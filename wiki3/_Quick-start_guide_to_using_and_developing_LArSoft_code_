<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title> Quick-start guide to using and developing LArSoft code  - LArSoft - Fermilab Redmine</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="hLJOSAB2efP4com0DDyIDrlV1KsJP7wq6AWyfBXC7gpuXKrVgOuFheEFZm3G0dwZ0AwPX5LLfW6RyZwnHzexvg==" />
<link rel='shortcut icon' href='/redmine/favicon.ico?1560171137' />
<link rel="stylesheet" media="all" href="/redmine/stylesheets/jquery/jquery-ui-1.11.0.css?1601072361" />
<link rel="stylesheet" media="all" href="/redmine/stylesheets/application.css?1601072361" />
<link rel="stylesheet" media="all" href="/redmine/stylesheets/responsive.css?1601072360" />

<script src="/redmine/javascripts/jquery-1.11.1-ui-1.11.0-ujs-3.1.4.js?1601072362"></script>
<script src="/redmine/javascripts/application.js?1601072361"></script>
<script src="/redmine/javascripts/responsive.js?1601072360"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>

<link rel="stylesheet" media="screen" href="/redmine/plugin_assets/redmine_countable_headers/stylesheets/countable_headers.css?1604432132" />  <script src="/redmine/plugin_assets/redmine_sortable_table/javascripts/sortable_table.js?1601318223"></script><link rel="stylesheet" media="screen" href="/redmine/plugin_assets/redmine_sortable_table/stylesheets/sortable_table.css?1601318223" /> <link rel="stylesheet" media="screen" href="/redmine/plugin_assets/redmine_group_assignee/stylesheets/tab_content_assignees.css?1604592738" />
<!-- page specific tags -->
  <script src="/redmine/javascripts/attachments.js?1601072363"></script>
</head>
<body class="project-larsoft controller-wiki action-show">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/redmine/projects/larsoft/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="wiki_pages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>

        <div class="flyout-menu__avatar flyout-menu__avatar--no-avatar">
            <a class="user active" href="/redmine/users/7">garren</a>
        </div>

        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="my-account" href="/redmine/my/account">My account</a></li><li><a class="logout" rel="nofollow" data-method="post" href="/redmine/logout">Sign out</a></li></ul>    </div>
    <div id="loggedas">Logged in as <a class="user active" href="/redmine/users/7">garren</a></div>
    <ul><li><a class="home" href="/redmine/">Home</a></li><li><a class="my-page" href="/redmine/my/page">My page</a></li><li><a class="projects" href="/redmine/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/redmine/projects/larsoft/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" value="subprojects" />
        <input type="hidden" name="wiki_pages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/redmine/projects/larsoft/search?scope=subprojects">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">LArSoft</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/redmine/projects/autocomplete.js?jump=wiki" autocomplete="off" /></div><div class="drdn-items projects selection"><a title="Accelerator Modeling" href="/redmine/projects/accelerator-modeling?jump=wiki"><span style="padding-left:0px;">Accelerator Modeling</span></a><a title="ArgoNeuT Offline" href="/redmine/projects/t962offline?jump=wiki"><span style="padding-left:0px;">ArgoNeuT Offline</span></a><a title="artdaq" href="/redmine/projects/artdaq?jump=wiki"><span style="padding-left:0px;">artdaq</span></a><a title="artdaq Demo" href="/redmine/projects/artdaq-demo?jump=wiki"><span style="padding-left:16px;">artdaq Demo</span></a><a title="artdaq Core Demo" href="/redmine/projects/artdaq-core-demo?jump=wiki"><span style="padding-left:32px;">artdaq Core Demo</span></a><a title="artdaq Utilities" href="/redmine/projects/artdaq-utilities?jump=wiki"><span style="padding-left:16px;">artdaq Utilities</span></a><a title="artdaq database" href="/redmine/projects/artdaq-database?jump=wiki"><span style="padding-left:32px;">artdaq database</span></a><a title="artdaq-mfextensions" href="/redmine/projects/mf-extensions?jump=wiki"><span style="padding-left:16px;">artdaq-mfextensions</span></a><a title="artg4" href="/redmine/projects/artg4?jump=wiki"><span style="padding-left:0px;">artg4</span></a><a title="artg4 Geant N02 example" href="/redmine/projects/artg4geantn02?jump=wiki"><span style="padding-left:16px;">artg4 Geant N02 example</span></a><a title="artg4example" href="/redmine/projects/artg4example?jump=wiki"><span style="padding-left:16px;">artg4example</span></a><a title="cet-is" href="/redmine/projects/cet-is?jump=wiki"><span style="padding-left:0px;">cet-is</span></a><a title="art" href="/redmine/projects/art?jump=wiki"><span style="padding-left:16px;">art</span></a><a title="art Hough" href="/redmine/projects/art-hough?jump=wiki"><span style="padding-left:32px;">art Hough</span></a><a title="art-workbook" href="/redmine/projects/art-workbook?jump=wiki"><span style="padding-left:32px;">art-workbook</span></a><a title="art_root_io" href="/redmine/projects/art_root_io?jump=wiki"><span style="padding-left:32px;">art_root_io</span></a><a title="artExtensions" href="/redmine/projects/artextensions?jump=wiki"><span style="padding-left:16px;">artExtensions</span></a><a title="Systematics Tools" href="/redmine/projects/systematicstools?jump=wiki"><span style="padding-left:32px;">Systematics Tools</span></a><a title="artUtilScripts" href="/redmine/projects/artutilscripts?jump=wiki"><span style="padding-left:16px;">artUtilScripts</span></a><a title="canvas" href="/redmine/projects/canvas?jump=wiki"><span style="padding-left:16px;">canvas</span></a><a title="canvas_root_io" href="/redmine/projects/canvas_root_io?jump=wiki"><span style="padding-left:32px;">canvas_root_io</span></a><a title="cet-is-private" href="/redmine/projects/cet-is-private?jump=wiki"><span style="padding-left:16px;">cet-is-private</span></a><a title="cet-is-public" href="/redmine/projects/cet-is-public?jump=wiki"><span style="padding-left:16px;">cet-is-public</span></a><a title="cetbuildtools" href="/redmine/projects/cetbuildtools?jump=wiki"><span style="padding-left:16px;">cetbuildtools</span></a><a title="cetlib" href="/redmine/projects/cetlib?jump=wiki"><span style="padding-left:16px;">cetlib</span></a><a title="cetlib_except" href="/redmine/projects/cetlib_except?jump=wiki"><span style="padding-left:32px;">cetlib_except</span></a><a title="CetModules" href="/redmine/projects/cetmodules?jump=wiki"><span style="padding-left:16px;">CetModules</span></a><a title="cetpkgsupport" href="/redmine/projects/cetpkgsupport?jump=wiki"><span style="padding-left:16px;">cetpkgsupport</span></a><a title="Chris Green&#39;s Stuff" href="/redmine/projects/cet-chg?jump=wiki"><span style="padding-left:16px;">Chris Green&#39;s Stuff</span></a><a title="CosmoSIS UPS" href="/redmine/projects/cosmosis_ups?jump=wiki"><span style="padding-left:16px;">CosmoSIS UPS</span></a><a title="cpp0x" href="/redmine/projects/cpp0x?jump=wiki"><span style="padding-left:16px;">cpp0x</span></a><a title="critic" href="/redmine/projects/critic?jump=wiki"><span style="padding-left:16px;">critic</span></a><a title="DocDB migration" href="/redmine/projects/docdb-migration?jump=wiki"><span style="padding-left:16px;">DocDB migration</span></a><a title="El Capitan Support" href="/redmine/projects/el-capitan-support?jump=wiki"><span style="padding-left:16px;">El Capitan Support</span></a><a title="fhicl" href="/redmine/projects/fhicl?jump=wiki"><span style="padding-left:16px;">fhicl</span></a><a title="fhicl-cpp" href="/redmine/projects/fhicl-cpp?jump=wiki"><span style="padding-left:32px;">fhicl-cpp</span></a><a title="fhicl-py" href="/redmine/projects/fhicl-py?jump=wiki"><span style="padding-left:32px;">fhicl-py</span></a><a title="Framework Build Instructions" href="/redmine/projects/build-framework?jump=wiki"><span style="padding-left:16px;">Framework Build Instructions</span></a><a title="hep_hpc_toolkit" href="/redmine/projects/hep_hpc_toolkit?jump=wiki"><span style="padding-left:32px;">hep_hpc_toolkit</span></a><a title="gallery" href="/redmine/projects/gallery?jump=wiki"><span style="padding-left:16px;">gallery</span></a><a title="hep_concurrency" href="/redmine/projects/hep_concurrency?jump=wiki"><span style="padding-left:16px;">hep_concurrency</span></a><a title="Lynn Garren&#39;s notes" href="/redmine/projects/lynn-garren-s-notes?jump=wiki"><span style="padding-left:16px;">Lynn Garren&#39;s notes</span></a><a title="messagefacility" href="/redmine/projects/messagefacility?jump=wiki"><span style="padding-left:16px;">messagefacility</span></a><a title="mrb" href="/redmine/projects/mrb?jump=wiki"><span style="padding-left:16px;">mrb</span></a><a title="SciSoft" href="/redmine/projects/scisoft?jump=wiki"><span style="padding-left:16px;">SciSoft</span></a><a title="Spack Planning" href="/redmine/projects/spack-planning?jump=wiki"><span style="padding-left:16px;">Spack Planning</span></a><a title="VMs and Containers" href="/redmine/projects/vms-and-containers?jump=wiki"><span style="padding-left:16px;">VMs and Containers</span></a><a title="ubuntu vm" href="/redmine/projects/ubuntu-vm?jump=wiki"><span style="padding-left:32px;">ubuntu vm</span></a><a title="cet-pythia6" href="/redmine/projects/cet-pythia6?jump=wiki"><span style="padding-left:16px;">cet-pythia6</span></a><a title="splines" href="/redmine/projects/splines?jump=wiki"><span style="padding-left:16px;">splines</span></a><a title="studio" href="/redmine/projects/studio?jump=wiki"><span style="padding-left:16px;">studio</span></a><a title="tag_suite" href="/redmine/projects/tag_suite?jump=wiki"><span style="padding-left:16px;">tag_suite</span></a><a title="art/LArSoft Course" href="/redmine/projects/art-larsoft-course?jump=wiki"><span style="padding-left:0px;">art/LArSoft Course</span></a><a title="LArIAT" href="/redmine/projects/lardbt?jump=wiki"><span style="padding-left:0px;">LArIAT</span></a><a title="LArIAT Online" href="/redmine/projects/lariat-online?jump=wiki"><span style="padding-left:16px;">LArIAT Online</span></a><a title="LArSoft" class="selected" href="/redmine/projects/larsoft?jump=wiki"><span style="padding-left:0px;">LArSoft</span></a><a title="ArgoNeuT code" href="/redmine/projects/argoneutcode?jump=wiki"><span style="padding-left:16px;">ArgoNeuT code</span></a><a title="ArgoNeuT Analysis" href="/redmine/projects/t962ana?jump=wiki"><span style="padding-left:32px;">ArgoNeuT Analysis</span></a><a title="LAr-Continuous-Integration" href="/redmine/projects/lar-ci?jump=wiki"><span style="padding-left:16px;">LAr-Continuous-Integration</span></a><a title="LAr1ND code" href="/redmine/projects/lar1ndcode?jump=wiki"><span style="padding-left:16px;">LAr1ND code</span></a><a title="LArAdmin" href="/redmine/projects/laradmin?jump=wiki"><span style="padding-left:16px;">LArAdmin</span></a><a title="LArAna" href="/redmine/projects/larana?jump=wiki"><span style="padding-left:16px;">LArAna</span></a><a title="LArCore" href="/redmine/projects/larcore?jump=wiki"><span style="padding-left:16px;">LArCore</span></a><a title="LArCoreAlg" href="/redmine/projects/larcorealg?jump=wiki"><span style="padding-left:16px;">LArCoreAlg</span></a><a title="LArCoreObj" href="/redmine/projects/larcoreobj?jump=wiki"><span style="padding-left:16px;">LArCoreObj</span></a><a title="LArData" href="/redmine/projects/lardata?jump=wiki"><span style="padding-left:16px;">LArData</span></a><a title="LArDataAlg" href="/redmine/projects/lardataalg?jump=wiki"><span style="padding-left:16px;">LArDataAlg</span></a><a title="LArDataObj" href="/redmine/projects/lardataobj?jump=wiki"><span style="padding-left:16px;">LArDataObj</span></a><a title="LArEventDisplay" href="/redmine/projects/lareventdisplay?jump=wiki"><span style="padding-left:16px;">LArEventDisplay</span></a><a title="LArEvt" href="/redmine/projects/larevt?jump=wiki"><span style="padding-left:16px;">LArEvt</span></a><a title="LArExamples" href="/redmine/projects/larexamples?jump=wiki"><span style="padding-left:16px;">LArExamples</span></a><a title="LArG4" href="/redmine/projects/larg4?jump=wiki"><span style="padding-left:16px;">LArG4</span></a><a title="larliteintegration" href="/redmine/projects/sketch?jump=wiki"><span style="padding-left:16px;">larliteintegration</span></a><a title="LArPandora" href="/redmine/projects/larpandora?jump=wiki"><span style="padding-left:16px;">LArPandora</span></a><a title="LArPandoraContent" href="/redmine/projects/larpandoracontent?jump=wiki"><span style="padding-left:16px;">LArPandoraContent</span></a><a title="LArReco" href="/redmine/projects/larreco?jump=wiki"><span style="padding-left:16px;">LArReco</span></a><a title="LArRecoDNN" href="/redmine/projects/larrecodnn?jump=wiki"><span style="padding-left:16px;">LArRecoDNN</span></a><a title="LArRelTools" href="/redmine/projects/larreltools?jump=wiki"><span style="padding-left:16px;">LArRelTools</span></a><a title="larshoweralg" href="/redmine/projects/larshoweralg?jump=wiki"><span style="padding-left:16px;">larshoweralg</span></a><a title="LArSim" href="/redmine/projects/larsim?jump=wiki"><span style="padding-left:16px;">LArSim</span></a><a title="LArSimAlg" href="/redmine/projects/larsimalg?jump=wiki"><span style="padding-left:16px;">LArSimAlg</span></a><a title="LArSimObj" href="/redmine/projects/larsimobj?jump=wiki"><span style="padding-left:16px;">LArSimObj</span></a><a title="LArSimTools" href="/redmine/projects/larsimtools?jump=wiki"><span style="padding-left:16px;">LArSimTools</span></a><a title="LArSoft-SVN (legacy site)" href="/redmine/projects/larsoftsvn?jump=wiki"><span style="padding-left:16px;">LArSoft-SVN (legacy site)</span></a><a title="LArSoft Alpha Test" href="/redmine/projects/larsoft-alpha?jump=wiki"><span style="padding-left:32px;">LArSoft Alpha Test</span></a><a title="LArSoft Experiments Alpha Test" href="/redmine/projects/larsoft-experiment-alpha?jump=wiki"><span style="padding-left:48px;">LArSoft Experiments Alpha Test</span></a><a title="LArSoftObj" href="/redmine/projects/larsoftobj?jump=wiki"><span style="padding-left:16px;">LArSoftObj</span></a><a title="LArSystematics" href="/redmine/projects/larsystematics?jump=wiki"><span style="padding-left:16px;">LArSystematics</span></a><a title="LArTestAlg" href="/redmine/projects/lartestalg?jump=wiki"><span style="padding-left:16px;">LArTestAlg</span></a><a title="LArToolObj" href="/redmine/projects/lartoolobj?jump=wiki"><span style="padding-left:16px;">LArToolObj</span></a><a title="LArUtils" href="/redmine/projects/larutils?jump=wiki"><span style="padding-left:16px;">LArUtils</span></a><a title="larwirecell" href="/redmine/projects/larwirecell?jump=wiki"><span style="padding-left:16px;">larwirecell</span></a><a title="LBNE code" href="/redmine/projects/lbnecode?jump=wiki"><span style="padding-left:16px;">LBNE code</span></a><a title="NuSystematics" href="/redmine/projects/nusystematics?jump=wiki"><span style="padding-left:16px;">NuSystematics</span></a><a title="parsegdml" href="/redmine/projects/parsegdml?jump=wiki"><span style="padding-left:16px;">parsegdml</span></a><a title="uBooNE code" href="/redmine/projects/uboonecode?jump=wiki"><span style="padding-left:16px;">uBooNE code</span></a><a title="CC1pi" href="/redmine/projects/cc1pi?jump=wiki"><span style="padding-left:32px;">CC1pi</span></a><a title="UBooNE alg" href="/redmine/projects/uboonealg?jump=wiki"><span style="padding-left:32px;">UBooNE alg</span></a><a title="uBAna" href="/redmine/projects/ubana?jump=wiki"><span style="padding-left:32px;">uBAna</span></a><a title="uBCRT" href="/redmine/projects/ubcrt?jump=wiki"><span style="padding-left:32px;">uBCRT</span></a><a title="uBCV" href="/redmine/projects/ubcv?jump=wiki"><span style="padding-left:32px;">uBCV</span></a><a title="uBCore" href="/redmine/projects/ubcore?jump=wiki"><span style="padding-left:32px;">uBCore</span></a><a title="uBEvt" href="/redmine/projects/ubevt?jump=wiki"><span style="padding-left:32px;">uBEvt</span></a><a title="uBLite" href="/redmine/projects/ublite?jump=wiki"><span style="padding-left:32px;">uBLite</span></a><a title="uBObj" href="/redmine/projects/ubobj?jump=wiki"><span style="padding-left:32px;">uBObj</span></a><a title="uBRaw" href="/redmine/projects/ubraw?jump=wiki"><span style="padding-left:32px;">uBRaw</span></a><a title="uBReco" href="/redmine/projects/ubreco?jump=wiki"><span style="padding-left:32px;">uBReco</span></a><a title="uBSim" href="/redmine/projects/ubsim?jump=wiki"><span style="padding-left:32px;">uBSim</span></a><a title="uBXSec" href="/redmine/projects/ubxsec?jump=wiki"><span style="padding-left:32px;">uBXSec</span></a><a title="lar_ci" href="/redmine/projects/lar_ci?jump=wiki"><span style="padding-left:0px;">lar_ci</span></a><a title="darkart" href="/redmine/projects/darkart?jump=wiki"><span style="padding-left:0px;">darkart</span></a><a title="darkmon" href="/redmine/projects/darkmon?jump=wiki"><span style="padding-left:0px;">darkmon</span></a><a title="darkside-public" href="/redmine/projects/darkside-public?jump=wiki"><span style="padding-left:0px;">darkside-public</span></a><a title="darksidecore" href="/redmine/projects/darksidecore?jump=wiki"><span style="padding-left:0px;">darksidecore</span></a><a title="ds50daq" href="/redmine/projects/ds50daq?jump=wiki"><span style="padding-left:0px;">ds50daq</span></a><a title="DUNE" href="/redmine/projects/dune?jump=wiki"><span style="padding-left:0px;">DUNE</span></a><a title="DUNE Approved Plots" href="/redmine/projects/dune-approved-plots?jump=wiki"><span style="padding-left:16px;">DUNE Approved Plots</span></a><a title="Dune Computing" href="/redmine/projects/dune-computing?jump=wiki"><span style="padding-left:16px;">Dune Computing</span></a><a title="duneutil" href="/redmine/projects/duneutil?jump=wiki"><span style="padding-left:32px;">duneutil</span></a><a title="DUNE DAQ" href="/redmine/projects/dune-daq?jump=wiki"><span style="padding-left:16px;">DUNE DAQ</span></a><a title="DUNE NearDet Design" href="/redmine/projects/dune-neardet-design?jump=wiki"><span style="padding-left:16px;">DUNE NearDet Design</span></a><a title="dunetpc" href="/redmine/projects/dunetpc?jump=wiki"><span style="padding-left:16px;">dunetpc</span></a><a title="protoduneana" href="/redmine/projects/protoduneana?jump=wiki"><span style="padding-left:32px;">protoduneana</span></a><a title="upd" href="/redmine/projects/upd?jump=wiki"><span style="padding-left:0px;">upd</span></a><a title="ups" href="/redmine/projects/ups?jump=wiki"><span style="padding-left:0px;">ups</span></a><a title="Fermi Redmine" href="/redmine/projects/fermi-redmine?jump=wiki"><span style="padding-left:0px;">Fermi Redmine</span></a><a title="Projects for Monitoring Redmine Health" href="/redmine/projects/test-p1?jump=wiki"><span style="padding-left:16px;">Projects for Monitoring Redmine Health</span></a><a title="redmine-lib" href="/redmine/projects/redmine-lib?jump=wiki"><span style="padding-left:16px;">redmine-lib</span></a><a title="g4hpc" href="/redmine/projects/g4hpc?jump=wiki"><span style="padding-left:0px;">g4hpc</span></a><a title="g4hpcbenchmarks" href="/redmine/projects/g4hpcbenchmarks?jump=wiki"><span style="padding-left:16px;">g4hpcbenchmarks</span></a><a title="HepPDT" href="/redmine/projects/heppdt?jump=wiki"><span style="padding-left:0px;">HepPDT</span></a><a title="ICARUS LArSoft" href="/redmine/projects/icaruscode?jump=wiki"><span style="padding-left:0px;">ICARUS LArSoft</span></a><a title="icarus_data" href="/redmine/projects/icarus_data?jump=wiki"><span style="padding-left:16px;">icarus_data</span></a><a title="icarusutil" href="/redmine/projects/icarusutil?jump=wiki"><span style="padding-left:16px;">icarusutil</span></a><a title="LAr Batch Tools" href="/redmine/projects/larbatch?jump=wiki"><span style="padding-left:0px;">LAr Batch Tools</span></a><a title="LBNE Utilities" href="/redmine/projects/lbneutil?jump=wiki"><span style="padding-left:0px;">LBNE Utilities</span></a><a title="DAQ" href="/redmine/projects/mu2edaq?jump=wiki"><span style="padding-left:0px;">DAQ</span></a><a title="mu2e_artdaq" href="/redmine/projects/mu2e_artdaq?jump=wiki"><span style="padding-left:16px;">mu2e_artdaq</span></a><a title="Mu2e DAQ Computing" href="/redmine/projects/mu2e-daq-computing?jump=wiki"><span style="padding-left:16px;">Mu2e DAQ Computing</span></a><a title="mu2e DCS" href="/redmine/projects/mu2e-dcs?jump=wiki"><span style="padding-left:16px;">mu2e DCS</span></a><a title="Mu2e Raw Data" href="/redmine/projects/mu2e-raw-data?jump=wiki"><span style="padding-left:16px;">Mu2e Raw Data</span></a><a title="Databases" href="/redmine/projects/databases?jump=wiki"><span style="padding-left:0px;">Databases</span></a><a title="Detector Construction DB" href="/redmine/projects/mu2e_detector_construction_db?jump=wiki"><span style="padding-left:16px;">Detector Construction DB</span></a><a title="Offline Software" href="/redmine/projects/offlinesoftware?jump=wiki"><span style="padding-left:0px;">Offline Software</span></a><a title="G4beamline" href="/redmine/projects/mu2eofflinesoftwareg4beamline?jump=wiki"><span style="padding-left:16px;">G4beamline</span></a><a title="Grid Scripts" href="/redmine/projects/mu2egrid?jump=wiki"><span style="padding-left:16px;">Grid Scripts</span></a><a title="Muon g-2" href="/redmine/projects/g-2?jump=wiki"><span style="padding-left:0px;">Muon g-2</span></a><a title="Calorimeter CDR req." href="/redmine/projects/calorequirements?jump=wiki"><span style="padding-left:16px;">Calorimeter CDR req.</span></a><a title="g-2 Art Examples" href="/redmine/projects/gm2artexamples?jump=wiki"><span style="padding-left:16px;">g-2 Art Examples</span></a><a title="g-2 CDR" href="/redmine/projects/gm2cdr?jump=wiki"><span style="padding-left:16px;">g-2 CDR</span></a><a title="g-2 DAQ" href="/redmine/projects/gm2daq?jump=wiki"><span style="padding-left:16px;">g-2 DAQ</span></a><a title="g-2 DQM" href="/redmine/projects/gm2dqm?jump=wiki"><span style="padding-left:32px;">g-2 DQM</span></a><a title="g-2 public" href="/redmine/projects/gm2public?jump=wiki"><span style="padding-left:16px;">g-2 public</span></a><a title="g-2 Release Tools" href="/redmine/projects/gm2releasetools?jump=wiki"><span style="padding-left:16px;">g-2 Release Tools</span></a><a title="g2MIGTRACE" href="/redmine/projects/g2migtrace?jump=wiki"><span style="padding-left:16px;">g2MIGTRACE</span></a><a title="g2mtanalysismacros" href="/redmine/projects/g2mtanalysismacros?jump=wiki"><span style="padding-left:16px;">g2mtanalysismacros</span></a><a title="g-2 SRBD" href="/redmine/projects/g-2-srbd?jump=wiki"><span style="padding-left:16px;">g-2 SRBD</span></a><a title="g-2 TDR" href="/redmine/projects/gm2tdr?jump=wiki"><span style="padding-left:16px;">g-2 TDR</span></a><a title="gm2analyses" href="/redmine/projects/gm2analyses?jump=wiki"><span style="padding-left:16px;">gm2analyses</span></a><a title="gm2aux" href="/redmine/projects/gm2aux?jump=wiki"><span style="padding-left:16px;">gm2aux</span></a><a title="gm2beams" href="/redmine/projects/gm2beams?jump=wiki"><span style="padding-left:16px;">gm2beams</span></a><a title="gm2calo" href="/redmine/projects/gm2calo?jump=wiki"><span style="padding-left:16px;">gm2calo</span></a><a title="gm2dataproducts" href="/redmine/projects/gm2dataproducts?jump=wiki"><span style="padding-left:16px;">gm2dataproducts</span></a><a title="gm2field" href="/redmine/projects/gm2field?jump=wiki"><span style="padding-left:16px;">gm2field</span></a><a title="gm2fieldanalyzer" href="/redmine/projects/gm2fieldanalyzer?jump=wiki"><span style="padding-left:32px;">gm2fieldanalyzer</span></a><a title="gm2fielddaq" href="/redmine/projects/gm2fielddaq?jump=wiki"><span style="padding-left:32px;">gm2fielddaq</span></a><a title="gm2fieldsignal" href="/redmine/projects/gm2fieldsignal?jump=wiki"><span style="padding-left:32px;">gm2fieldsignal</span></a><a title="gm2geom" href="/redmine/projects/gm2geom?jump=wiki"><span style="padding-left:16px;">gm2geom</span></a><a title="gm2mcdataproducts" href="/redmine/projects/gm2mcdataproducts?jump=wiki"><span style="padding-left:16px;">gm2mcdataproducts</span></a><a title="gm2midas" href="/redmine/projects/gm2midas?jump=wiki"><span style="padding-left:16px;">gm2midas</span></a><a title="gm2midastoart" href="/redmine/projects/gm2midastoart?jump=wiki"><span style="padding-left:16px;">gm2midastoart</span></a><a title="gm2MTest2012" href="/redmine/projects/gm2mtest2012?jump=wiki"><span style="padding-left:16px;">gm2MTest2012</span></a><a title="gm2optics" href="/redmine/projects/gm2optics?jump=wiki"><span style="padding-left:16px;">gm2optics</span></a><a title="gm2planning" href="/redmine/projects/gm2planning?jump=wiki"><span style="padding-left:16px;">gm2planning</span></a><a title="gm2reconeast" href="/redmine/projects/gm2reconeast?jump=wiki"><span style="padding-left:16px;">gm2reconeast</span></a><a title="gm2ringsim" href="/redmine/projects/gm2ringsim?jump=wiki"><span style="padding-left:16px;">gm2ringsim</span></a><a title="gm2SoftwareTools" href="/redmine/projects/gm2softwaretools?jump=wiki"><span style="padding-left:16px;">gm2SoftwareTools</span></a><a title="gm2strawtracking" href="/redmine/projects/gm2strawtracking?jump=wiki"><span style="padding-left:16px;">gm2strawtracking</span></a><a title="gm2swdocs" href="/redmine/projects/gm2swdocs?jump=wiki"><span style="padding-left:16px;">gm2swdocs</span></a><a title="gm2test" href="/redmine/projects/gm2test?jump=wiki"><span style="padding-left:16px;">gm2test</span></a><a title="gm2tracker" href="/redmine/projects/gm2tracker?jump=wiki"><span style="padding-left:16px;">gm2tracker</span></a><a title="gm2trackerdaq" href="/redmine/projects/gm2trackerdaq?jump=wiki"><span style="padding-left:16px;">gm2trackerdaq</span></a><a title="gm2unpackers" href="/redmine/projects/gm2unpackers?jump=wiki"><span style="padding-left:16px;">gm2unpackers</span></a><a title="gm2util" href="/redmine/projects/gm2util?jump=wiki"><span style="padding-left:16px;">gm2util</span></a><a title="gm2viz" href="/redmine/projects/gm2viz?jump=wiki"><span style="padding-left:16px;">gm2viz</span></a><a title="gm2vtk" href="/redmine/projects/gm2vtk?jump=wiki"><span style="padding-left:16px;">gm2vtk</span></a><a title="g-2 Field Shimming Paper" href="/redmine/projects/gm2fsp?jump=wiki"><span style="padding-left:16px;">g-2 Field Shimming Paper</span></a><a title="gm2db" href="/redmine/projects/gm2db?jump=wiki"><span style="padding-left:16px;">gm2db</span></a><a title="gm2ilratio" href="/redmine/projects/gm2ilratio?jump=wiki"><span style="padding-left:16px;">gm2ilratio</span></a><a title="gm2reconita" href="/redmine/projects/gm2reconita?jump=wiki"><span style="padding-left:16px;">gm2reconita</span></a><a title="gm2sc" href="/redmine/projects/gm2sc?jump=wiki"><span style="padding-left:16px;">gm2sc</span></a><a title="gm2simvalidation" href="/redmine/projects/gm2simvalidation?jump=wiki"><span style="padding-left:16px;">gm2simvalidation</span></a><a title="gm2templates" href="/redmine/projects/gm2templates?jump=wiki"><span style="padding-left:16px;">gm2templates</span></a><a title="NOvA-ART" href="/redmine/projects/novaart?jump=wiki"><span style="padding-left:0px;">NOvA-ART</span></a><a title="NOvA validation" href="/redmine/projects/nova-validation?jump=wiki"><span style="padding-left:16px;">NOvA validation</span></a><a title="NuTools" href="/redmine/projects/nutools?jump=wiki"><span style="padding-left:0px;">NuTools</span></a><a title="NuEvdb" href="/redmine/projects/nuevdb?jump=wiki"><span style="padding-left:16px;">NuEvdb</span></a><a title="NuG4" href="/redmine/projects/nug4?jump=wiki"><span style="padding-left:16px;">NuG4</span></a><a title="NuGen" href="/redmine/projects/nugen?jump=wiki"><span style="padding-left:16px;">NuGen</span></a><a title="NuRandom" href="/redmine/projects/nurandom?jump=wiki"><span style="padding-left:16px;">NuRandom</span></a><a title="NuSimData" href="/redmine/projects/nusimdata?jump=wiki"><span style="padding-left:16px;">NuSimData</span></a><a title="NuSoft/NuTools" href="/redmine/projects/nusoftart?jump=wiki"><span style="padding-left:16px;">NuSoft/NuTools</span></a><a title="PPFX" href="/redmine/projects/ppfx?jump=wiki"><span style="padding-left:16px;">PPFX</span></a><a title="OSG-Geant4-OSGMM" href="/redmine/projects/osg-geant4-osgmm?jump=wiki"><span style="padding-left:0px;">OSG-Geant4-OSGMM</span></a><a title="SBND code" href="/redmine/projects/sbndcode?jump=wiki"><span style="padding-left:0px;">SBND code</span></a><a title="SBND utility scripts" href="/redmine/projects/sbndutil?jump=wiki"><span style="padding-left:0px;">SBND utility scripts</span></a><a title="IF Data Handling Client Tools (ifdhc)" href="/redmine/projects/ifdhc?jump=wiki"><span style="padding-left:0px;">IF Data Handling Client Tools (ifdhc)</span></a><a title="IFDH Art interface" href="/redmine/projects/ifdh-art?jump=wiki"><span style="padding-left:16px;">IFDH Art interface</span></a><a title="Simulation Tools and Features" href="/redmine/projects/stf?jump=wiki"><span style="padding-left:0px;">Simulation Tools and Features</span></a><a title="artg4tk" href="/redmine/projects/artg4tk?jump=wiki"><span style="padding-left:16px;">artg4tk</span></a><a title="DoSSiER" href="/redmine/projects/dossier?jump=wiki"><span style="padding-left:16px;">DoSSiER</span></a><a title="Geant4Reweight" href="/redmine/projects/geant4reweight?jump=wiki"><span style="padding-left:16px;">Geant4Reweight</span></a><a title="uBooNE Reconstruction" href="/redmine/projects/uboone-reconstruction?jump=wiki"><span style="padding-left:0px;">uBooNE Reconstruction</span></a><a title="uBooNE Utilities" href="/redmine/projects/ubutil?jump=wiki"><span style="padding-left:0px;">uBooNE Utilities</span></a><a title="detsim.fnal.gov" href="/redmine/projects/detsim-fnal-gov?jump=wiki"><span style="padding-left:0px;">detsim.fnal.gov</span></a><a title="SoftRelTools" href="/redmine/projects/softreltools?jump=wiki"><span style="padding-left:0px;">SoftRelTools</span></a><a title="Spack Infrastructure" href="/redmine/projects/spack-infrastructure?jump=wiki"><span style="padding-left:0px;">Spack Infrastructure</span></a></div><div class="drdn-items all-projects selection"><a href="/redmine/projects?jump=wiki">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">LArSoft</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li>
<a id="new-object" onclick="toggleNewObjectDropdown(); return false;" class="new-object" href="#"> + </a>
<ul class="menu-children"><li><a accesskey="7" class="new-issue-sub" href="/redmine/projects/larsoft/issues/new">New issue</a></li><li><a class="new-issue-category" href="/redmine/projects/larsoft/issue_categories/new">New category</a></li><li><a class="new-version" href="/redmine/projects/larsoft/versions/new">New version</a></li><li><a class="new-timelog" href="/redmine/projects/larsoft/time_entries/new">Log time</a></li><li><a class="new-document" href="/redmine/projects/larsoft/documents/new">New document</a></li><li><a class="new-wiki-page" href="/redmine/projects/larsoft/wiki/new">New wiki page</a></li><li><a class="new-file" href="/redmine/projects/larsoft/files/new">New file</a></li></ul>
</li><li><a class="overview" href="/redmine/projects/larsoft">Overview</a></li><li><a class="activity" href="/redmine/projects/larsoft/activity">Activity</a></li><li><a class="roadmap" href="/redmine/projects/larsoft/roadmap">Roadmap</a></li><li><a class="issues" href="/redmine/projects/larsoft/issues">Issues</a></li><li><a class="time-entries" href="/redmine/projects/larsoft/time_entries">Spent time</a></li><li><a class="gantt" href="/redmine/projects/larsoft/issues/gantt">Gantt</a></li><li><a class="calendar" href="/redmine/projects/larsoft/issues/calendar">Calendar</a></li><li><a class="documents" href="/redmine/projects/larsoft/documents">Documents</a></li><li><a class="wiki selected" href="/redmine/projects/larsoft/wiki">Wiki</a></li><li><a class="files" href="/redmine/projects/larsoft/files">Files</a></li><li><a class="repository" href="/redmine/projects/larsoft/repository">Repository</a></li><li><a class="settings" href="/redmine/projects/larsoft/settings">Settings</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          
<h3>Wiki</h3>
<ul>
  <li><a href="/redmine/projects/larsoft/wiki">Start page</a></li>
  <li><a href="/redmine/projects/larsoft/wiki/index">Index by title</a></li>
  <li><a href="/redmine/projects/larsoft/wiki/date_index">Index by date</a></li>
</ul>


        
    </div>

    <div id="content">
        
        <div class="contextual">
<a class="icon icon-add" data-remote="true" href="/redmine/projects/larsoft/wiki/new">New wiki page</a>
  <a class="icon icon-edit" accesskey="e" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit">Edit</a>
  <a class="wiki_page-11835-watcher icon icon-fav-off" data-remote="true" rel="nofollow" data-method="post" href="/redmine/watchers/watch?object_id=11835&amp;object_type=wiki_page">Watch</a>
  <a class="icon icon-lock" rel="nofollow" data-method="post" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/protect?protected=1">Lock</a>
  
  <a class="icon icon-move" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/rename">Rename</a>
  <a data-confirm="Are you sure?" class="icon icon-del" rel="nofollow" data-method="delete" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_">Delete</a>
<a class="icon icon-history" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/history">History</a>
</div>

<p class="breadcrumb"><a href="/redmine/projects/larsoft/wiki/LArSoftWiki">LArSoftWiki</a> » <a href="/redmine/projects/larsoft/wiki/Developing_With_LArSoft">Developing With LArSoft</a> » </p>


<div class="wiki wiki-page">
  <a name="Quick-start-guide-to-using-and-developing-LArSoft-code"></a>
<h1 > Quick-start guide to using and developing LArSoft code<a href="#Quick-start-guide-to-using-and-developing-LArSoft-code" class="wiki-anchor">&para;</a></h1>


	<ul class="toc"><li><strong>Table of contents</strong></li><li><a href="#Quick-start-guide-to-using-and-developing-LArSoft-code">Quick-start guide to using and developing LArSoft code</a><ul><li><a href="#Before-you-start">Before you start</a></li></ul>
</li><li><a href="#The-ultra-quick-start-guide">The ultra-quick-start guide:</a><ul><li><ul><li><a href="#Initial-setup-of-the-working-environment-starting-from-a-fresh-login">Initial setup of the working environment (starting from a fresh login):</a></li><li><a href="#Run-non-DUNE-or-non-uBoonE-jobs-using-only-a-frozen-LArSoft-release">Run non-DUNE or non-uBoonE jobs using only a frozen LArSoft release</a></li></ul>
</li><li><a href="#To-build-experiment-specific-code-for-DUNE-or-uBooNE-against-an-existing-LArSoft-release">To build experiment-specific code for DUNE or uBooNE against an existing LArSoft release</a><ul><li><a href="#Build-uboonecode-or-dunetpc">Build uboonecode or dunetpc</a></li><li><a href="#Run-the-software-you-just-built">Run the software you just built</a></li></ul>
</li><li><a href="#To-build-and-work-with-larsoft-itself">To build and work with larsoft itself</a><ul><li><a href="#Create-a-working-area">Create a working area</a></li><li><a href="#Check-out-develop-and-build-LArSoft-code">Check out, develop and build LArSoft code</a></li><li><a href="#Run-the-software-you-just-built-2">Run the software you just built</a></li></ul>
</li></ul>
</li><li><a href="#Annotated-quick-start-guide">Annotated quick-start guide</a><ul><li><a href="#Initial-setup">Initial setup</a></li><li><a href="#Create-a-working-area-2">Create a working area</a><ul><li><a href="#Everything-source-code-ltlocalProdDirgt-and-build-directory-in-one-directory-tree">Everything (source code, &lt;localProdDir&gt;, and build directory) in one directory tree</a></li></ul>
</li><li><a href="#Setup-work-environment-for-an-existing-working-area-from-a-fresh-login">Setup work environment for an existing working area from a fresh login</a></li><li><a href="#Developing-a-package">Developing a package</a></li><li><a href="#Build-code-in-your-working-area">Build code in your working area</a></li><li><a href="#Running-with-the-modifications-made-in-your-working-area">Running with the modifications made in your working area</a></li><li><a href="#Performing-a-clean-build">Performing a clean build</a></li><li><a href="#Removing-a-package-from-a-work-area">Removing a package from a work area</a></li><li><a href="#Creating-an-entirely-new-product-within-an-existing-work-area">Creating an entirely new product within an existing work area</a></li></ul>
</li><li><a href="#Comparison-of-mrb-and-SRT-commands">Comparison of mrb and SRT commands</a></li><li><a href="#Using-prebuilt-releases">Using prebuilt releases</a></li><li><a href="#Building-the-larsoft-suite">Building the larsoft "suite"</a></li><li><a href="#General-Information-about-git-and-art">General Information about git and art</a></li></ul>


	<p>LArSoft is not a stand-alone product. It is intended to be used as part of an experiment, so the set-up instructions for the experiment you are working with is the best place to start. To find a specific project, first check the <a class="wiki-page" href="/redmine/projects/larsoft/wiki/Quick_Links">Quick Links</a>, then look on your experiment's pages in redmine for instructions on installing LArSoft software. (Go to: <a class="external" href="https://cdcvs.fnal.gov/redmine/projects">https://cdcvs.fnal.gov/redmine/projects</a> and search for your experiment.)</p>


	<p>The following is provided just to provide the general information that can be adapted by each experiment.<br />These instructions are for working with larsoft release v1_00_00 and later, and mrb v1_00_00 and later. The instructions assume that LArSoft is installed locally using the download and installation instructions linked from the download page (see <a class="wiki-page" href="/redmine/projects/larsoft/wiki/Getting_LArSoft">Download instructions</a>). Changes needed for off-site installations will be noted. This documentation is evolving as we receive feedback. Please open an issue ticket if you have suggestions or complaints.</p>


	<p>Please note that all Fermilab redmine repository names are lower case.  See the <a class="wiki-page" href="/redmine/projects/larsoft/wiki/_LArSoft_repositories_packages_and_dependencies_">LArSoft product list</a>.</p>


	<p>See <a class="wiki-page" href="/redmine/projects/larsoft/wiki/_The_developer_environment_"> The developer environment </a> page for important information about the git branching model that should be used when developing LArSoft code.<br />Detailed information about mrb is available from the <a href="https://cdcvs.fnal.gov/redmine/projects/mrb/wiki/MrbRefereceGuide" class="external">mrb reference guide</a>. Information about UPS is available from <a href="https://cdcvs.fnal.gov/redmine/projects/ups/wiki/Getting_Started_Using_UPS" class="external">getting started using UPS</a></p>


	<div class="contextual heading-2" title="Edit this section" id="section-2"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=2">Edit this section</a></div><a name="Before-you-start"></a>
<h2 >Before you start<a href="#Before-you-start" class="wiki-anchor">&para;</a></h2>


	<ul>
	<li>To see list the available versions of a product, including all available qualifiers</li>
	</ul>


<blockquote>

	<ul>
	<li>set up ups as described below</li>
		<li>use <strong>ups list -aK+ &lt;productname&gt;</strong> or <strong>ups list -aK+ &lt;productname&gt; &lt;version&gt;</strong></li>
	</ul>


</blockquote>

	<ul>
	<li>To verify that all dependencies are available, use ups depend:</li>
	</ul>


<blockquote>

	<ul>
	<li><strong>ups depend &lt;productname&gt; &lt;version&gt; -q &lt;qualifiers&gt;</strong></li>
	</ul>


</blockquote>

	<ul>
	<li>Each LArSoft "package" below corresponds to a git repository and a ups product which have the same name.</li>
	</ul>


	<ul>
	<li>You need modern versions of git and gitflow</li>
	</ul>


<blockquote>

	<ul>
	<li>git must be version 1.8 or newer</li>
		<li>git 1.8.5.6 is available in /grid/fermiapp/products/larsoft</li>
		<li>gitflow 0.4.2.pre is available in /grid/fermiapp/products/larsoft</li>
	</ul>


</blockquote>

	<ul>
	<li>If you have not used git before, you will need to customize your git environment.</li>
	</ul>


<blockquote>

	<ul>
	<li>See <a class="external" href="http://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup">http://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup</a></li>
	</ul>


</blockquote>

	<div class="contextual heading-1" title="Edit this section" id="section-3"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=3">Edit this section</a></div><a name="The-ultra-quick-start-guide"></a>
<h1 > The ultra-quick-start guide:<a href="#The-ultra-quick-start-guide" class="wiki-anchor">&para;</a></h1>


	<p>More detailed explanations of what is happening during each of these can be found in the annotated portion of this guide below.</p>


	<div class="contextual heading-3" title="Edit this section" id="section-4"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=4">Edit this section</a></div><a name="Initial-setup-of-the-working-environment-starting-from-a-fresh-login"></a>
<h3 >Initial setup of the working environment (starting from a fresh login):<a href="#Initial-setup-of-the-working-environment-starting-from-a-fresh-login" class="wiki-anchor">&para;</a></h3>


	<p>Run experiment-specific setup script:<br /><pre>
source /cvmfs/uboone.opensciencegrid.org/products/setup_uboone.sh
</pre><br />or<br /><pre>
source /cvmfs/dune.opensciencegrid.org/products/dune/setup_dune.sh
</pre><br />(<code>*.csh</code> versions may also be available for csh/tcsh users)</p>


	<p>If off-site, the appropriate script should be modified to reflect the locations of local product installations.</p>


	<ul>
	<li>Perform the next step <strong>only</strong> if you want to run code in a frozen LArSoft release <strong>and</strong> are interested in running jobs specific to experiments other than DUNE and uBooNE. All other users should skip to the <a href="https://cdcvs.fnal.gov/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_#Create-a-working-area-2" class="external">Create a working area</a> step.</li>
	</ul>


	<div class="contextual heading-3" title="Edit this section" id="section-5"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=5">Edit this section</a></div><a name="Run-non-DUNE-or-non-uBoonE-jobs-using-only-a-frozen-LArSoft-release"></a>
<h3 >Run non-DUNE or non-uBoonE jobs using only a frozen LArSoft release<a href="#Run-non-DUNE-or-non-uBoonE-jobs-using-only-a-frozen-LArSoft-release" class="wiki-anchor">&para;</a></h3>


<pre>
setup larsoft &lt;version&gt; -q e7:debug    # (or -q e17:prof)
lar -c &lt;job fcl file&gt; ...
</pre>

<blockquote>

	<p>That's it. You're set up.</p>


</blockquote>

	<div class="contextual heading-2" title="Edit this section" id="section-6"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=6">Edit this section</a></div><a name="To-build-experiment-specific-code-for-DUNE-or-uBooNE-against-an-existing-LArSoft-release"></a>
<h2 >To build experiment-specific code for DUNE or uBooNE against an existing LArSoft release<a href="#To-build-experiment-specific-code-for-DUNE-or-uBooNE-against-an-existing-LArSoft-release" class="wiki-anchor">&para;</a></h2>


	<div class="contextual heading-3" title="Edit this section" id="section-7"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=7">Edit this section</a></div><a name="Build-uboonecode-or-dunetpc"></a>
<h3 >Build uboonecode or dunetpc<a href="#Build-uboonecode-or-dunetpc" class="wiki-anchor">&para;</a></h3>


	<ul>
	<li>The instructions in this section are necessarily generic.  You may wish to check the instructions for your experiment.
	<ul>
	<li><a href="https://cdcvs.fnal.gov/redmine/projects/dunetpc/wiki/_Tutorial_" class="external">DUNE</a></li>
		<li><a href="https://cdcvs.fnal.gov/redmine/projects/uboonecode/wiki/Uboone_guide" class="external">MicroBooNE</a></li>
	</ul>
	</li>
		<li>Note that you must use an experiment-specific setup script for the initial setup (not including the setup of larsoft).</li>
	</ul>


<blockquote>

<pre>
export GROUP=dune # (or uboone)
source /grid/fermiapp/$GROUP/software/setup_$GROUP.sh
#
mkdir &lt;working_dir&gt;
cd &lt;working_dir&gt;
mrb newDev -v vxx_yy_zz -q e17:prof    # (or -q e17:debug)
source ./localProducts_vxx_yy_zz_e17_prof/setup # depends on the version abo
#
cd srcs
mrb g &lt;uboonecode|dunetpc&gt;
#
&lt;work on code...&gt;
cd ../build_*
mrbsetenv
mrb i -j4     # (if the machine has enough cores)
</pre>

</blockquote>

<blockquote>

	<p>"&lt;xxx|yyy&gt;" is intended to denote selecting one or the other of xxx or yyy.<br />To work with an existing work area, omit <code>mkdir</code> and <code>mrb newDev</code> steps above.</p>


</blockquote>

	<div class="contextual heading-3" title="Edit this section" id="section-8"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=8">Edit this section</a></div><a name="Run-the-software-you-just-built"></a>
<h3 >Run the software you just built<a href="#Run-the-software-you-just-built" class="wiki-anchor">&para;</a></h3>


	<ul>
	<li><pre>setup &lt;uboonecode | dunetpc&gt; &lt;version&gt; -q &lt;qualifiers&gt; </pre></li>
	</ul>


	<ul>
	<li>Note: "mrbslp" will setup ALL products in your working localProducts directory.</li>
		<li>If you've been following these directions, then uboonecode or dunetpc will be the ONLY product in your localProducts directory.</li>
	</ul>


	<ul>
	<li>Now run<br /><pre>lar -c xxx.fcl ...</pre></li>
	</ul>


<blockquote>

	<ul>
	<li>Note that the build procedure will un-setup any products that are being built, so those<br />need to be set-up again before they can be used.</li>
		<li>The version of <code>uboonecode</code> and <code>dunetpc</code> is set in the associated <code>ups/product_deps</code> file. See<br />the list of releases for the most current version, or use @ups list -aK+ &lt;dunetpc | uboonecode&gt;</li>
	</ul>


</blockquote>

	<div class="contextual heading-2" title="Edit this section" id="section-9"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=9">Edit this section</a></div><a name="To-build-and-work-with-larsoft-itself"></a>
<h2 >To build and work with larsoft itself<a href="#To-build-and-work-with-larsoft-itself" class="wiki-anchor">&para;</a></h2>


	<div class="contextual heading-3" title="Edit this section" id="section-10"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=10">Edit this section</a></div><a name="Create-a-working-area"></a>
<h3 >Create a working area<a href="#Create-a-working-area" class="wiki-anchor">&para;</a></h3>


<blockquote>

After you have performed the initial setup:<br /><pre>
mkdir &lt;working_dir&gt;
cd &lt;working_dir&gt;
mrb newDev -v vx_yy_zz -q e7:prof    # (or -q e7:debug)
</pre>
	<ul>
	<li>where 'vx_yy_zz' is the base version for the release you are working with. </li>
		<li>Select from the <a class="wiki-page" href="/redmine/projects/larsoft/wiki/LArSoftWiki#releases">list of releases</a>, or use 'ups list -aK+ larsoft' to get a complete list of available releases. </li>
		<li>Current release is v04_06_00 (See <a class="wiki-page" href="/redmine/projects/larsoft/wiki/LArSoftWiki">LArSoftWiki</a> for most recent release)</li>
		<li>Alternatively, you can 'setup larsoft &lt;version&gt; -q &lt;e7:debug|e7:prof&gt;' before running 'mrb newDev', in which case you can omit the '-v' and '-q' from the 'mrb' command.</li>
	</ul>


</blockquote>

	<ul>
	<li>If you only want to run using the base LArSoft release and uBooNE or DUNE code, then skip ahead to the "To build experiment-specific code for DUNE or uBooNE against an existing LArSoft release" step</li>
	</ul>


	<div class="contextual heading-3" title="Edit this section" id="section-11"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=11">Edit this section</a></div><a name="Check-out-develop-and-build-LArSoft-code"></a>
<h3 >Check out, develop and build LArSoft code<a href="#Check-out-develop-and-build-LArSoft-code" class="wiki-anchor">&para;</a></h3>


<blockquote>

After performing the initial setup and creating the working area, from <code>&lt;working_dir&gt;</code>:<br /><pre>
source ./localProducts_XXX/setup
cd srcs
#
# This next command checks out everything. You can also use single repository
# names as the last argument if that is all you need. 
# Abbreviates to mrb g &lt;repo&gt;
mrb gitCheckout larsoft_suite    
&lt;work on code...use git flow branching scheme if introducing changes to LArSoft code&gt;
cd ../build
mrbsetenv  
mrb install -j4    # -jN =&gt; N parallel processes for the build (if the machine has enough cores)
</pre>
	<ul>
	<li><code>mrb install</code> (abbreviates to <code>mrb i</code>) will build then install results in localProducts_XXX. This<br />is the preferred command if you need to run what you are building.</li>
		<li>You can also use <code>mrb build</code> (or <code>mrb b</code>) if you just want the build with no install. Be aware, however, that you cannot run using the resulting build products.</li>
	</ul>


</blockquote>

<blockquote>

	<p>The list of repositories and their contents <a class="wiki-page" href="/redmine/projects/larsoft/wiki/_LArSoft_repositories_packages_and_dependencies_">can be found on this page </a>.</p>


</blockquote>

	<div class="contextual heading-3" title="Edit this section" id="section-12"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=12">Edit this section</a></div><a name="Run-the-software-you-just-built-2"></a>
<h3 >Run the software you just built<a href="#Run-the-software-you-just-built-2" class="wiki-anchor">&para;</a></h3>


<blockquote>

	<p>Starting from the build directory immediately after running <code>mrb build</code>:<br /><pre>
mrb install  # if this was not run previously
cd ..        # should now be in the top-level directory of working area
#
# The next line is needed if 
# a) larsoft was set up prior to the build, and
# b) any larsoft sub-products were built, and
# c) you are going directly from having built to wanting to run in the same login session
unsetup larsoft
#
# The next line is needed if any experiment code was built or if in a new login
# session where it has not already been set up.
# It will set up larsoft, so no need to do that up explicitly. 
setup &lt;uboonecode | dunetpc&gt; &lt;version&gt; -q &lt;qualifiers&gt;  

# If no experiment code was built, then comment out the line above and 
# run this one instead:
# setup larsoft &lt;version&gt; -q &lt;qualifiers&gt;

# Now run
lar -c xxx.fcl ...
</pre></p>


</blockquote>

<blockquote>

	<ul>
	<li>Note that the build procedure will un-setup any products that are being built, so those<br />need to be set-up again before they can be used.</li>
		<li>The version of <code>uboonecode</code> and <code>dunetpc</code> is set in the associated <code>ups/product_deps</code> file. See<br />the list of releases for the most current version, or use @ups list -aK+ &lt;dunetpc | uboonecode&gt;</li>
	</ul>


</blockquote>

	<div class="contextual heading-1" title="Edit this section" id="section-13"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=13">Edit this section</a></div><a name="Annotated-quick-start-guide"></a>
<h1 >Annotated quick-start guide<a href="#Annotated-quick-start-guide" class="wiki-anchor">&para;</a></h1>


	<div class="contextual heading-2" title="Edit this section" id="section-14"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=14">Edit this section</a></div><a name="Initial-setup"></a>
<h2 > Initial setup<a href="#Initial-setup" class="wiki-anchor">&para;</a></h2>


	<p>The first time you start a mrb project, you'll need to define various things. (The setup for an existing working area is slightly different, and is described <a href="https://cdcvs.fnal.gov/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_#Setup-work-environment-for-an-existing-working-area-from-a-fresh-login" class="external">here</a></p>


	<p>There are experiment-specific setup scripts to perform setup. For example.</p>


<blockquote>

<pre>
/grid/fermiapp/lbne/software/setup_lbne.sh
/grid/fermiapp/lbne/software/setup_lbne.csh
</pre><br />AND:<br /><pre>
/grid/fermiapp/uboone/software/setup_uboone.sh
/grid/fermiapp/uboone/software/setup_uboone.csh
</pre>

</blockquote>

	<ul>
	<li>The generic setup steps are:</li>
	</ul>


<blockquote>

	<ul>
	<li>setup ups </li>
		<li>set the $PRODUCTS path if necessary</li>
		<li>setup git</li>
		<li>setup gitflow</li>
		<li>define MRB_PROJECT</li>
		<li>setup mrb</li>
		<li>setup &lt;project&gt; &lt;version&gt;</li>
		<li>define MRB_PROJECT</li>
	</ul>


<blockquote>

	<ul>
	<li>MRB_PROJECT is meant to define your project. <code>mrb newDev</code> will <strong>require</strong> that MRB_PROJECT be the name of a ups product. </li>
		<li>Eventually, you will be able to use the experiment name for the project.</li>
		<li>For now, just use "larsoft" in all cases.</li>
	</ul>


</blockquote></blockquote>

	<ul>
	<li>This fragment works on uboonegpvm01 and other gpvm machines:<br /><pre>
source /grid/fermiapp/products/larsoft/setup
setup git
setup gitflow
setup mrb
setup larsoft &lt;version&gt; -q &lt;qualifiers&gt;
export MRB_PROJECT=larsoft
</pre></li>
	</ul>


	<p>You are now ready to create a working area.</p>


	<div class="contextual heading-2" title="Edit this section" id="section-15"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=15">Edit this section</a></div><a name="Create-a-working-area-2"></a>
<h2 >Create a working area<a href="#Create-a-working-area-2" class="wiki-anchor">&para;</a></h2>


	<div class="contextual heading-3" title="Edit this section" id="section-16"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=16">Edit this section</a></div><a name="Everything-source-code-ltlocalProdDirgt-and-build-directory-in-one-directory-tree"></a>
<h3 >Everything (source code, &lt;localProdDir&gt;, and build directory) in one directory tree<a href="#Everything-source-code-ltlocalProdDirgt-and-build-directory-in-one-directory-tree" class="wiki-anchor">&para;</a></h3>


	<p>Case 1: you have setup &lt;MRB_PROJECT&gt; &lt;version&gt; (the recommended procedure)<br /><pre>
mkdir &lt;working_dir&gt;
cd  &lt;working_dir&gt;
mrb newDev 
</pre></p>


<blockquote>

	<ul>
	<li>this creates &lt;working_dir&gt;/build, &lt;working_dir&gt;/srcs, and &lt;working_dir&gt;/localProducts_&lt;MRB_PROJECT&gt;_&lt;version&gt;_&lt;qualifiers&gt;</li>
		<li>We refer to &lt;working_dir&gt;/localProducts... as &lt;localProdDir&gt;</li>
	</ul>


</blockquote>

	<ul>
	<li>source &lt;localProdDir&gt;/setup</li>
	</ul>


	<p>Case 2: you did not setup &lt;MRB_PROJECT&gt; &lt;version&gt;<br /><pre>
mkdir &lt;working_dir&gt;
cd  &lt;working_dir&gt;
mrb newDev -v &lt;version&gt; -q &lt;qualifiers&gt;
</pre></p>


<blockquote>

	<ul>
	<li>this creates &lt;working_dir&gt;/build, &lt;working_dir&gt;/srcs, and &lt;working_dir&gt;/localProducts_&lt;MRB_PROJECT&gt;_&lt;version&gt;_&lt;qualifiers&gt;</li>
		<li>We refer to &lt;working_dir&gt;/localProducts... as &lt;localProdDir&gt;</li>
	</ul>


</blockquote>

	<ul>
	<li>source &lt;localProdDir&gt;/setup</li>
	</ul>


	<h3>Source code under your home directory<br /><pre>
mkdir &lt;working_dir&gt;
mkdir &lt;source_dir&gt;
mrb newDev -T &lt;working_dir&gt; -S &lt;source_dir&gt;
</pre></h3>


<blockquote>

	<ul>
	<li>this creates &lt;working_dir&gt;/build and &lt;working_dir&gt;/localProducts_&lt;MRB_PROJECT&gt;_&lt;version&gt;_&lt;qualifiers&gt;</li>
		<li>We refer to &lt;working_dir&gt;/localProducts... as &lt;localProdDir&gt;</li>
		<li>Note that you may also need to specify -v &lt;version&gt; and -q &lt;qualifiers&gt; as above</li>
	</ul>


</blockquote>

	<ul>
	<li>source &lt;localProdDir&gt;/setup</li>
	</ul>


	<div class="contextual heading-2" title="Edit this section" id="section-17"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=17">Edit this section</a></div><a name="Setup-work-environment-for-an-existing-working-area-from-a-fresh-login"></a>
<h2 >Setup work environment for an existing working area from a fresh login<a href="#Setup-work-environment-for-an-existing-working-area-from-a-fresh-login" class="wiki-anchor">&para;</a></h2>


To set up the working environment for an existing working area, you need to source the setup script in the local products area created in the previous step. The local setup defines environment variables needed by mrb, and adds the local products area to the $PRODUCTS path so that ups can find local versions of products (created during the build/install step). The generic steps are the following:
	<ul>
	<li>perform the initial setup above</li>
	</ul>


<blockquote>

	<ul>
	<li>set up ups </li>
		<li>set the $PRODUCTS path</li>
		<li>make sure you have gitflow and git 1.8 or newer</li>
	</ul>


</blockquote>

	<ul>
	<li>source &lt;localProdDir&gt;/setup<br />On uboonegpvm0X and lbnegpvm0X:<br /><pre>
source /grid/fermiapp/products/larsoft/setup
setup git
setup gitflow
setup mrb
export MRB_PROJECT=larsoft
cd &lt;working_dir&gt;
source ./localProducts_XXX/setup
setup larsoft &lt;version&gt; -q &lt;qualifiers&gt;   # optional
</pre></li>
		<li>Note that the larsoft setup needs to come after the setup in localProducts_XXX.</li>
	</ul>


	<div class="contextual heading-2" title="Edit this section" id="section-18"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=18">Edit this section</a></div><a name="Developing-a-package"></a>
<h2 >Developing a package<a href="#Developing-a-package" class="wiki-anchor">&para;</a></h2>


	<ul>
	<li>After setting up the working environment:<br /><pre>
cd $MRB_SOURCE
mrb gitCheckout &lt;package_1&gt;
mrb g &lt;package_2&gt;
</pre><br />Or to check out the entire larsoft suite, replace the separate <code>mrb g ...</code> with:<br /><pre>
mrb g larsoft_suite 
</pre></li>
		<li>Please note that all Fermilab redmine repository names are lower case. </li>
		<li>mrb presumes your package is in Fermilab redmine unless you specify the full repository name.</li>
		<li>You may supply either a package name or a repository name</li>
	</ul>


<blockquote>

	<ul>
	<li>if there is only a package name, presume this is a Fermilab redmine project</li>
		<li>if there is a full repository name, use the repository name</li>
	</ul>


</blockquote>

	<ul>
	<li>You may checkout a branch or tag</li>
	</ul>


<blockquote>

	<ul>
	<li>mrb g -t &lt;tag&gt; &lt;package&gt;</li>
		<li>mrb g -b &lt;branch&gt; &lt;package&gt;</li>
		<li>note that -t and -b must precede the package name</li>
	</ul>


</blockquote>

	<div class="contextual heading-2" title="Edit this section" id="section-19"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=19">Edit this section</a></div><a name="Build-code-in-your-working-area"></a>
<h2 >Build code in your working area<a href="#Build-code-in-your-working-area" class="wiki-anchor">&para;</a></h2>


	<ul>
	<li>After setting up the working environment:<br /><pre>
cd $MRB_BUILDDIR
mrbsetenv
mrb b [-jN]                # Must be done in the same shell
</pre></li>
	</ul>


<blockquote>

	<ul>
	<li>where N is the number of parallel build streams to use</li>
		<li>mrb b (build) calls buildtool, which is very powerful</li>
	</ul>


</blockquote>

<pre>
mrb install                # Abbrev mrb i. Must be done in the same bash shell
</pre>

<blockquote>

	<ul>
	<li>optional </li>
		<li>The mrb install command will make a ups product in your &lt;localProdDir&gt; for the package you are building. </li>
		<li>You can also just type "make install [-jN]"</li>
	</ul>


</blockquote>

	<ul>
	<li>To get rid of what you just built (or tried to build) and start over:<br /><pre>
cd $MRB_BUILDDIR
rm -rf *
</pre></li>
	</ul>


<blockquote>

	<p>Then start from the top of this section.</p>


</blockquote>

	<div class="contextual heading-2" title="Edit this section" id="section-20"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=20">Edit this section</a></div><a name="Running-with-the-modifications-made-in-your-working-area"></a>
<h2 >Running with the modifications made in your working area<a href="#Running-with-the-modifications-made-in-your-working-area" class="wiki-anchor">&para;</a></h2>


	<p>The build/install procedure performs an <code>unsetup</code> of every product it builds. It does this to ensure that the build environment points only to the local code being built. It also ensures that if you run <code>setup &lt;product&gt;...</code> after the build and within the same login session, you get the locally installed version rather than the one you were pointing to at the beginning of the build/install procedure. (The setup command does nothing if the product is already set up.) After building <em>and installing</em>, you will therefore need to run <code>setup</code> for all the products that you just built.</p>


	<p>This behavior results in the following curious complication. If you build only <em>some</em> of the larsoft sub-products, but not the "larsoft" product proper, then running <code>setup larsoft...</code> after the build is completed <em>will not</em> set up the sub-products that you just built. The solution is either to run <code>setup &lt;sub-product&gt;...</code> by hand for each product that was build, or to first run <code>unsetup larsoft</code> so that a subsequent <code>setup larsoft...</code> causes everything to be set up again.</p>


	<p>Since all this seems complicated, we have introduced the <code>mrb setup_local_products</code> command (abbreviated to <code>mrb slp</code>) that will perform the proper setup.</p>


	<p>So, assuming that the basic setup has been completed and the local products setup has been sourced, then starting from the build directory:<br /><pre>
cd ..
unsetup larsoft   
#
# The next line is needed if any experiment code was built. It will
# set up larsoft, so no need to set that up explicitly
setup &lt;uboonecode | dunetpc&gt; &lt;version&gt; -q &lt;qualifiers&gt;  

# If no experiment code was build, then comment out the line above and 
# run this one instead:
# setup larsoft &lt;version&gt; -q &lt;qualifiers&gt;

# Now run
lar -c ...
</pre></p>


	<p>You will also need to manually set up any other products that are installed in the local products area that are not already dependencies of either larsoft or the experiment-specific products.</p>


	<p>Since all this seemed complicated, we have introduced the <code>mrb setup_local_products</code> command (abbreviated to <code>mrb slp</code>) that will perform the proper setup of all products in the local products directory, regardless of whether they are part of LArSoft. To use this command in the above example (where we am assuming that you had set up <code>uboonecode</code>, <code>dunetpc</code>, or <code>larsoft</code> going into the build):<br /><pre>
cd ..
mrbslp

# Now run
lar -c ...
</pre><br />(Note that if this command is used, then you must run programs in the same shell)</p>


	<p>If starting from a fresh login, then the usual setup procedure (<code>setup &lt;dunetpc | uboonecode | larsoft&gt;</code> is all that it needed.</p>


	<div class="contextual heading-2" title="Edit this section" id="section-21"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=21">Edit this section</a></div><a name="Performing-a-clean-build"></a>
<h2 >Performing a clean build<a href="#Performing-a-clean-build" class="wiki-anchor">&para;</a></h2>


<pre>
cd $MRB_BUILDDIR
mrb zapBuild
mrbsetenv
mrb install
</pre><br />OR:<br /><pre>
cd $MRB_BUILDDIR
rm -rf *
mrbsetenv
mrb install
</pre>

	<p>You should perform a clean build whenever a product is added or removed. Cmake errors during the build may require that you start with a clean build.</p>


	<div class="contextual heading-2" title="Edit this section" id="section-22"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=22">Edit this section</a></div><a name="Removing-a-package-from-a-work-area"></a>
<h2 >Removing a package from a work area<a href="#Removing-a-package-from-a-work-area" class="wiki-anchor">&para;</a></h2>


<pre>
cd $MRB_SOURCE
rm -rf &lt;repo-name&gt;
mrb uc
</pre>

	<p>The <code>mrb uc</code> command will update the top-level <code>CMakeLists.txt</code> file to take into account the newly removed package.</p>


	<div class="contextual heading-2" title="Edit this section" id="section-23"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=23">Edit this section</a></div><a name="Creating-an-entirely-new-product-within-an-existing-work-area"></a>
<h2 >Creating an entirely new product within an existing work area<a href="#Creating-an-entirely-new-product-within-an-existing-work-area" class="wiki-anchor">&para;</a></h2>


	<p>Assume that there is an existing repository with the same name that you want to attach to the newly created product.</p>


<pre>
cd $MRB_SOURCE
mrb newProduct &lt;new-prod-name&gt;
cd &lt;new-prod-name&gt;
git remote add &lt;alias&gt; &lt;new-prod-repo-url&gt;
git pull &lt;alias&gt; &lt;branch&gt;
</pre>

	<p>The new product template has two files that are important to know about and that you will almost certainly need to modify in order to create a new product (the only exception being the case that you are attaching to a repository that already has a working product in it):  <code>&lt;new-prod-name&gt;/CMakeLists.txt</code>, and <code>&lt;new-prod-name&gt;/ups/product_deps</code>. In general, the <code>CMakeLists.txt</code> files control the build-time configuration and the items that get built, and specify what files in the product get installed where during the install phase. (See the <a class="wiki-page" href="/redmine/projects/cet-is-public/wiki/Cetbuildtools_cmake_modules">Cetbuildtools cmake modules</a> and <a class="wiki-page" href="/redmine/projects/cet-is-public/wiki/Art_cmake_modules">Art cmake modules</a> pages for information on writing CMakelists.txt files within our build system.) The <code>product_deps</code> file controls the run-time configuration via a ups "table" file (<code>&lt;new-prod-name&gt;/ups/&lt;new-prod-name&gt;.table</code>) that gets generated during the build and installation procedure. (See the <a class="wiki-page" href="/redmine/projects/cet-is-public/wiki/Defining_products_in_the_CET_build_environment">Defining products in the CET build environment</a> page for details on the content of product_deps file.) More information on the build system can be found on the <a class="wiki-page" href="/redmine/projects/larsoft/wiki/LArSoftWiki">LArSoftWiki</a> page.</p>


	<p>Set the product version number in the <code>&lt;new-prod-name&gt;/ups/product_deps</code> file.</p>


	<p>Then build as usual.</p>


	<div class="contextual heading-1" title="Edit this section" id="section-24"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=24">Edit this section</a></div><a name="Comparison-of-mrb-and-SRT-commands"></a>
<h1 >Comparison of mrb and SRT commands<a href="#Comparison-of-mrb-and-SRT-commands" class="wiki-anchor">&para;</a></h1>


	<p>The following table compares SRT commands with their approximate mrb analogs. <br />The equivalency is based entirely upon approximate parallel functionality within their respective frameworks.<br />HOWEVER, please see the instructions above since there is not a one-to-one translation and behaviors differ.</p>


	<table>
		<tr>
			<td> <strong>Legacy / SRT command</strong> </td>
			<td> <strong>Analogous mrb command</strong> </td>
		</tr>
		<tr>
			<td> setup_larsoft_fnal.sh </td>
			<td> The setup procedure above </td>
		</tr>
		<tr>
			<td> newrel -t &lt;release&gt; &lt;name&gt; </td>
			<td> mkdir &lt;name&gt;; cd &lt;name&gt;; mrb newDev </td>
		</tr>
		<tr>
			<td> addpkg_svn -h &lt;package&gt; &lt;tag&gt; </td>
			<td> mrb gitCheckout [-t &lt;tag&gt;] &lt;package&gt; </td>
		</tr>
		<tr>
			<td> newpkg &lt;name&gt; </td>
			<td> mrb newProduct &lt;name&gt; </td>
		</tr>
		<tr>
			<td> srt_setup -a </td>
			<td> mrb setEnv </td>
		</tr>
		<tr>
			<td> gmake all </td>
			<td> mrb install </td>
		</tr>
		<tr>
			<td> rmpkg &lt;name&gt; </td>
			<td> rm -r &lt;name&gt; ; mrb uc </td>
		</tr>
	</table>




	<div class="contextual heading-1" title="Edit this section" id="section-25"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=25">Edit this section</a></div><a name="Using-prebuilt-releases"></a>
<h1 >Using prebuilt releases<a href="#Using-prebuilt-releases" class="wiki-anchor">&para;</a></h1>


	<p>The new larsoft ups product and all its dependencies are installed in the /grid/fermiapp/products/larsoft product directory.<br />This directory is mounted on the relevant gpvm machines and Fermilab grid worker nodes.<br />In addition, a mirror of this directory is available on  cvmfs at /cvmfs/fermilab.opensciencegrid.org/products/larsoft/ <br />We encourage users to <a class="wiki-page" href="/redmine/projects/larsoft/wiki/LArSoft_cvmfs_page"> install and use a cvmfs client </a> instead of installing the binary distribution wherever possible.</p>


	<p>Binary distributions are available under <a class="external" href="http://scisoft.fnal.gov/">http://scisoft.fnal.gov/</a></p>


	<p>If you need to pull everything (LArSoft plus all external packages) in order to create a new installation of the software (for instance, for an off-site installation to support a local analysis group), we recommend using the download script available from SciSoft.<br /><pre>
curl -O  http://scisoft.fnal.gov/bundles/tools/pullProducts
chmod +x pullProducts
./pullProducts &lt;product_dir&gt; &lt;slf6|d14|d13&gt; larsoft-&lt;version&gt; s8-e7 &lt;debug|prof&gt;
</pre></p>


<blockquote>

	<ul>
	<li>See <a href="http://scisoft.fnal.gov/scisoft/bundles/larsoft" class="external">http://scisoft.fnal.gov/scisoft/bundles/larsoft/<code>&lt;version&gt;</code>/larsoft-<code>&lt;version&gt;</code>.html</a> for explicit instructions for each release.</li>
		<li>This will pull the relocatable ups products and install them in &lt;product_dir&gt; where you should specify the full path to the product directory.</li>
		<li>The prof distribution requires about 20G</li>
		<li>Typing ./pullProducts without any options will echo the usage guide.</li>
	</ul>


</blockquote>

	<p>You can find detailed instructions for downloading and installing binary and source distributions <a class="wiki-page" href="/redmine/projects/larsoft/wiki/_Download_instructions_"> on the download page </a>.</p>


	<div class="contextual heading-1" title="Edit this section" id="section-26"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=26">Edit this section</a></div><a name="Building-the-larsoft-suite"></a>
<h1 >Building the larsoft "suite"<a href="#Building-the-larsoft-suite" class="wiki-anchor">&para;</a></h1>


	<p>In rare cases, you may need to build from scratch.</p>


	<div class="contextual heading-1" title="Edit this section" id="section-27"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/edit?section=27">Edit this section</a></div><a name="General-Information-about-git-and-art"></a>
<h1 > General Information about git and art<a href="#General-Information-about-git-and-art" class="wiki-anchor">&para;</a></h1>


	<ul>
	<li><a class="wiki-page" href="/redmine/projects/mrb/wiki/MrbRefereceGuide">mrb Reference Guide</a></li>
	</ul>


	<ul>
	<li><a class="wiki-page" href="/redmine/projects/cet-is-public/wiki/AboutQualifiers">About Qualifiers</a></li>
		<li><a class="wiki-page" href="/redmine/projects/cet-is-public/wiki/Cetbuildtools_user_guide">cetbuildtools user guide</a></li>
	</ul>


	<ul>
	<li><a class="wiki-page" href="/redmine/projects/cet-is-public/wiki/Git_flow_quick_start">git flow quick start</a> (edited 2/4/2013).</li>
		<li><a class="wiki-page" href="/redmine/projects/cet-is-public/wiki/Marc&#39;s_suggested_git_workflow">Marc&#39;s suggested git workflow</a></li>
		<li><a class="wiki-page" href="/redmine/projects/cet-is-public/wiki/GitTipsAndTricks">Git Tips and Tricks</a></li>
	</ul>


	<ul>
	<li><a class="wiki-page" href="/redmine/projects/cet-is-public/wiki/Building_your_own_code_with_cmake">Building your own code with cmake</a></li>
		<li><a class="wiki-page" href="/redmine/projects/cet-is-public/wiki/Defining_products_in_the_CET_build_environment">Defining products in the CET build environment</a></li>
		<li><a class="wiki-page" href="/redmine/projects/cet-is-public/wiki/AddingProductDependencies">Adding Product Dependencies</a></li>
		<li><a class="wiki-page" href="/redmine/projects/cet-is-public/wiki/CodeTips">Various helpful tips for coding in the CET C++ environment</a></li>
	</ul>
</div>


<fieldset class="collapsible collapsed hide-when-print">
  <legend onclick="toggleFieldset(this);">Files (0)</legend>
  <div style="display: none;">

  
  
  <div id="wiki_add_attachment">
    <form id="add_attachment_form" enctype="multipart/form-data" action="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_/add_attachment" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="hdgaefH9cWUsqpCW+OhJjUfDIh3p9+KpSjJg1hHq129vNv7kcWCNEzXdf08yBR2aLpr56XIDI+0z/k6NGx+I2w==" />
      <div class="box">
      <p>
<span class="attachments_form">
  <span class="attachments_fields">
  </span>
  <span class="add_attachment" style="">
    <input type="file" name="attachments[dummy][file]" class="file_selector filedrop" multiple="multiple" onchange="addInputFiles(this);" data-max-file-size="419430400" data-max-file-size-message="This file cannot be uploaded because it exceeds the maximum allowed file size (400 MB)" data-max-concurrent-uploads="2" data-upload-path="/redmine/uploads.js" data-param="attachments" data-description="true" data-description-placeholder="Optional description" />
    (Maximum size: 400 MB)
  </span>
</span>

</p>
      </div>
      <input type="submit" name="commit" value="Add" />
</form>  </div>
</div>
</fieldset>

<p class="other-formats">Also available in:  <span><a class="pdf" rel="nofollow" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_.pdf">PDF</a></span>
  <span><a class="html" rel="nofollow" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_.html">HTML</a></span>
  <span><a class="txt" rel="nofollow" href="/redmine/projects/larsoft/wiki/_Quick-start_guide_to_using_and_developing_LArSoft_code_.txt">TXT</a></span>
</p>


        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2019 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
