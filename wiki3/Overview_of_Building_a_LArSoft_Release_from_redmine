<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Overview of Building a LArSoft Release from redmine - LArSoft - Fermilab Redmine</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="p5dSVK6c7EhIZVDgU7IPYG1tlTKvPO2N9OOPmx3RrudNebbJLgEQPlESvzmZX1t3BDROxjTILMmNL6HAFyTxUw==" />
<link rel='shortcut icon' href='/redmine/favicon.ico?1560171137' />
<link rel="stylesheet" media="all" href="/redmine/stylesheets/jquery/jquery-ui-1.11.0.css?1601072361" />
<link rel="stylesheet" media="all" href="/redmine/stylesheets/application.css?1601072361" />
<link rel="stylesheet" media="all" href="/redmine/stylesheets/responsive.css?1601072360" />

<script src="/redmine/javascripts/jquery-1.11.1-ui-1.11.0-ujs-3.1.4.js?1601072362"></script>
<script src="/redmine/javascripts/application.js?1601072361"></script>
<script src="/redmine/javascripts/responsive.js?1601072360"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>

<link rel="stylesheet" media="screen" href="/redmine/plugin_assets/redmine_countable_headers/stylesheets/countable_headers.css?1604432132" />  <script src="/redmine/plugin_assets/redmine_sortable_table/javascripts/sortable_table.js?1601318223"></script><link rel="stylesheet" media="screen" href="/redmine/plugin_assets/redmine_sortable_table/stylesheets/sortable_table.css?1601318223" /> <link rel="stylesheet" media="screen" href="/redmine/plugin_assets/redmine_group_assignee/stylesheets/tab_content_assignees.css?1604592738" />
<!-- page specific tags -->
  <script src="/redmine/javascripts/attachments.js?1601072363"></script>
</head>
<body class="project-larsoft controller-wiki action-show">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/redmine/projects/larsoft/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="wiki_pages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>

        <div class="flyout-menu__avatar flyout-menu__avatar--no-avatar">
            <a class="user active" href="/redmine/users/7">garren</a>
        </div>

        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="my-account" href="/redmine/my/account">My account</a></li><li><a class="logout" rel="nofollow" data-method="post" href="/redmine/logout">Sign out</a></li></ul>    </div>
    <div id="loggedas">Logged in as <a class="user active" href="/redmine/users/7">garren</a></div>
    <ul><li><a class="home" href="/redmine/">Home</a></li><li><a class="my-page" href="/redmine/my/page">My page</a></li><li><a class="projects" href="/redmine/projects">Projects</a></li><li><a class="help" href="https://www.redmine.org/guide">Help</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/redmine/projects/larsoft/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="scope" value="subprojects" />
        <input type="hidden" name="wiki_pages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/redmine/projects/larsoft/search?scope=subprojects">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        <div id="project-jump" class="drdn"><span class="drdn-trigger">LArSoft</span><div class="drdn-content"><div class="quick-search"><input type="text" name="q" id="projects-quick-search" value="" class="autocomplete" data-automcomplete-url="/redmine/projects/autocomplete.js?jump=wiki" autocomplete="off" /></div><div class="drdn-items projects selection"><a title="Accelerator Modeling" href="/redmine/projects/accelerator-modeling?jump=wiki"><span style="padding-left:0px;">Accelerator Modeling</span></a><a title="ArgoNeuT Offline" href="/redmine/projects/t962offline?jump=wiki"><span style="padding-left:0px;">ArgoNeuT Offline</span></a><a title="artdaq" href="/redmine/projects/artdaq?jump=wiki"><span style="padding-left:0px;">artdaq</span></a><a title="artdaq Demo" href="/redmine/projects/artdaq-demo?jump=wiki"><span style="padding-left:16px;">artdaq Demo</span></a><a title="artdaq Core Demo" href="/redmine/projects/artdaq-core-demo?jump=wiki"><span style="padding-left:32px;">artdaq Core Demo</span></a><a title="artdaq Utilities" href="/redmine/projects/artdaq-utilities?jump=wiki"><span style="padding-left:16px;">artdaq Utilities</span></a><a title="artdaq database" href="/redmine/projects/artdaq-database?jump=wiki"><span style="padding-left:32px;">artdaq database</span></a><a title="artdaq-mfextensions" href="/redmine/projects/mf-extensions?jump=wiki"><span style="padding-left:16px;">artdaq-mfextensions</span></a><a title="artg4" href="/redmine/projects/artg4?jump=wiki"><span style="padding-left:0px;">artg4</span></a><a title="artg4 Geant N02 example" href="/redmine/projects/artg4geantn02?jump=wiki"><span style="padding-left:16px;">artg4 Geant N02 example</span></a><a title="artg4example" href="/redmine/projects/artg4example?jump=wiki"><span style="padding-left:16px;">artg4example</span></a><a title="cet-is" href="/redmine/projects/cet-is?jump=wiki"><span style="padding-left:0px;">cet-is</span></a><a title="art" href="/redmine/projects/art?jump=wiki"><span style="padding-left:16px;">art</span></a><a title="art Hough" href="/redmine/projects/art-hough?jump=wiki"><span style="padding-left:32px;">art Hough</span></a><a title="art-workbook" href="/redmine/projects/art-workbook?jump=wiki"><span style="padding-left:32px;">art-workbook</span></a><a title="art_root_io" href="/redmine/projects/art_root_io?jump=wiki"><span style="padding-left:32px;">art_root_io</span></a><a title="artExtensions" href="/redmine/projects/artextensions?jump=wiki"><span style="padding-left:16px;">artExtensions</span></a><a title="Systematics Tools" href="/redmine/projects/systematicstools?jump=wiki"><span style="padding-left:32px;">Systematics Tools</span></a><a title="artUtilScripts" href="/redmine/projects/artutilscripts?jump=wiki"><span style="padding-left:16px;">artUtilScripts</span></a><a title="canvas" href="/redmine/projects/canvas?jump=wiki"><span style="padding-left:16px;">canvas</span></a><a title="canvas_root_io" href="/redmine/projects/canvas_root_io?jump=wiki"><span style="padding-left:32px;">canvas_root_io</span></a><a title="cet-is-private" href="/redmine/projects/cet-is-private?jump=wiki"><span style="padding-left:16px;">cet-is-private</span></a><a title="cet-is-public" href="/redmine/projects/cet-is-public?jump=wiki"><span style="padding-left:16px;">cet-is-public</span></a><a title="cetbuildtools" href="/redmine/projects/cetbuildtools?jump=wiki"><span style="padding-left:16px;">cetbuildtools</span></a><a title="cetlib" href="/redmine/projects/cetlib?jump=wiki"><span style="padding-left:16px;">cetlib</span></a><a title="cetlib_except" href="/redmine/projects/cetlib_except?jump=wiki"><span style="padding-left:32px;">cetlib_except</span></a><a title="CetModules" href="/redmine/projects/cetmodules?jump=wiki"><span style="padding-left:16px;">CetModules</span></a><a title="cetpkgsupport" href="/redmine/projects/cetpkgsupport?jump=wiki"><span style="padding-left:16px;">cetpkgsupport</span></a><a title="Chris Green&#39;s Stuff" href="/redmine/projects/cet-chg?jump=wiki"><span style="padding-left:16px;">Chris Green&#39;s Stuff</span></a><a title="CosmoSIS UPS" href="/redmine/projects/cosmosis_ups?jump=wiki"><span style="padding-left:16px;">CosmoSIS UPS</span></a><a title="cpp0x" href="/redmine/projects/cpp0x?jump=wiki"><span style="padding-left:16px;">cpp0x</span></a><a title="critic" href="/redmine/projects/critic?jump=wiki"><span style="padding-left:16px;">critic</span></a><a title="DocDB migration" href="/redmine/projects/docdb-migration?jump=wiki"><span style="padding-left:16px;">DocDB migration</span></a><a title="El Capitan Support" href="/redmine/projects/el-capitan-support?jump=wiki"><span style="padding-left:16px;">El Capitan Support</span></a><a title="fhicl" href="/redmine/projects/fhicl?jump=wiki"><span style="padding-left:16px;">fhicl</span></a><a title="fhicl-cpp" href="/redmine/projects/fhicl-cpp?jump=wiki"><span style="padding-left:32px;">fhicl-cpp</span></a><a title="fhicl-py" href="/redmine/projects/fhicl-py?jump=wiki"><span style="padding-left:32px;">fhicl-py</span></a><a title="Framework Build Instructions" href="/redmine/projects/build-framework?jump=wiki"><span style="padding-left:16px;">Framework Build Instructions</span></a><a title="hep_hpc_toolkit" href="/redmine/projects/hep_hpc_toolkit?jump=wiki"><span style="padding-left:32px;">hep_hpc_toolkit</span></a><a title="gallery" href="/redmine/projects/gallery?jump=wiki"><span style="padding-left:16px;">gallery</span></a><a title="hep_concurrency" href="/redmine/projects/hep_concurrency?jump=wiki"><span style="padding-left:16px;">hep_concurrency</span></a><a title="Lynn Garren&#39;s notes" href="/redmine/projects/lynn-garren-s-notes?jump=wiki"><span style="padding-left:16px;">Lynn Garren&#39;s notes</span></a><a title="messagefacility" href="/redmine/projects/messagefacility?jump=wiki"><span style="padding-left:16px;">messagefacility</span></a><a title="mrb" href="/redmine/projects/mrb?jump=wiki"><span style="padding-left:16px;">mrb</span></a><a title="SciSoft" href="/redmine/projects/scisoft?jump=wiki"><span style="padding-left:16px;">SciSoft</span></a><a title="Spack Planning" href="/redmine/projects/spack-planning?jump=wiki"><span style="padding-left:16px;">Spack Planning</span></a><a title="VMs and Containers" href="/redmine/projects/vms-and-containers?jump=wiki"><span style="padding-left:16px;">VMs and Containers</span></a><a title="ubuntu vm" href="/redmine/projects/ubuntu-vm?jump=wiki"><span style="padding-left:32px;">ubuntu vm</span></a><a title="cet-pythia6" href="/redmine/projects/cet-pythia6?jump=wiki"><span style="padding-left:16px;">cet-pythia6</span></a><a title="splines" href="/redmine/projects/splines?jump=wiki"><span style="padding-left:16px;">splines</span></a><a title="studio" href="/redmine/projects/studio?jump=wiki"><span style="padding-left:16px;">studio</span></a><a title="tag_suite" href="/redmine/projects/tag_suite?jump=wiki"><span style="padding-left:16px;">tag_suite</span></a><a title="art/LArSoft Course" href="/redmine/projects/art-larsoft-course?jump=wiki"><span style="padding-left:0px;">art/LArSoft Course</span></a><a title="LArIAT" href="/redmine/projects/lardbt?jump=wiki"><span style="padding-left:0px;">LArIAT</span></a><a title="LArIAT Online" href="/redmine/projects/lariat-online?jump=wiki"><span style="padding-left:16px;">LArIAT Online</span></a><a title="LArSoft" class="selected" href="/redmine/projects/larsoft?jump=wiki"><span style="padding-left:0px;">LArSoft</span></a><a title="ArgoNeuT code" href="/redmine/projects/argoneutcode?jump=wiki"><span style="padding-left:16px;">ArgoNeuT code</span></a><a title="ArgoNeuT Analysis" href="/redmine/projects/t962ana?jump=wiki"><span style="padding-left:32px;">ArgoNeuT Analysis</span></a><a title="LAr-Continuous-Integration" href="/redmine/projects/lar-ci?jump=wiki"><span style="padding-left:16px;">LAr-Continuous-Integration</span></a><a title="LAr1ND code" href="/redmine/projects/lar1ndcode?jump=wiki"><span style="padding-left:16px;">LAr1ND code</span></a><a title="LArAdmin" href="/redmine/projects/laradmin?jump=wiki"><span style="padding-left:16px;">LArAdmin</span></a><a title="LArAna" href="/redmine/projects/larana?jump=wiki"><span style="padding-left:16px;">LArAna</span></a><a title="LArCore" href="/redmine/projects/larcore?jump=wiki"><span style="padding-left:16px;">LArCore</span></a><a title="LArCoreAlg" href="/redmine/projects/larcorealg?jump=wiki"><span style="padding-left:16px;">LArCoreAlg</span></a><a title="LArCoreObj" href="/redmine/projects/larcoreobj?jump=wiki"><span style="padding-left:16px;">LArCoreObj</span></a><a title="LArData" href="/redmine/projects/lardata?jump=wiki"><span style="padding-left:16px;">LArData</span></a><a title="LArDataAlg" href="/redmine/projects/lardataalg?jump=wiki"><span style="padding-left:16px;">LArDataAlg</span></a><a title="LArDataObj" href="/redmine/projects/lardataobj?jump=wiki"><span style="padding-left:16px;">LArDataObj</span></a><a title="LArEventDisplay" href="/redmine/projects/lareventdisplay?jump=wiki"><span style="padding-left:16px;">LArEventDisplay</span></a><a title="LArEvt" href="/redmine/projects/larevt?jump=wiki"><span style="padding-left:16px;">LArEvt</span></a><a title="LArExamples" href="/redmine/projects/larexamples?jump=wiki"><span style="padding-left:16px;">LArExamples</span></a><a title="LArG4" href="/redmine/projects/larg4?jump=wiki"><span style="padding-left:16px;">LArG4</span></a><a title="larliteintegration" href="/redmine/projects/sketch?jump=wiki"><span style="padding-left:16px;">larliteintegration</span></a><a title="LArPandora" href="/redmine/projects/larpandora?jump=wiki"><span style="padding-left:16px;">LArPandora</span></a><a title="LArPandoraContent" href="/redmine/projects/larpandoracontent?jump=wiki"><span style="padding-left:16px;">LArPandoraContent</span></a><a title="LArReco" href="/redmine/projects/larreco?jump=wiki"><span style="padding-left:16px;">LArReco</span></a><a title="LArRecoDNN" href="/redmine/projects/larrecodnn?jump=wiki"><span style="padding-left:16px;">LArRecoDNN</span></a><a title="LArRelTools" href="/redmine/projects/larreltools?jump=wiki"><span style="padding-left:16px;">LArRelTools</span></a><a title="larshoweralg" href="/redmine/projects/larshoweralg?jump=wiki"><span style="padding-left:16px;">larshoweralg</span></a><a title="LArSim" href="/redmine/projects/larsim?jump=wiki"><span style="padding-left:16px;">LArSim</span></a><a title="LArSimAlg" href="/redmine/projects/larsimalg?jump=wiki"><span style="padding-left:16px;">LArSimAlg</span></a><a title="LArSimObj" href="/redmine/projects/larsimobj?jump=wiki"><span style="padding-left:16px;">LArSimObj</span></a><a title="LArSimTools" href="/redmine/projects/larsimtools?jump=wiki"><span style="padding-left:16px;">LArSimTools</span></a><a title="LArSoft-SVN (legacy site)" href="/redmine/projects/larsoftsvn?jump=wiki"><span style="padding-left:16px;">LArSoft-SVN (legacy site)</span></a><a title="LArSoft Alpha Test" href="/redmine/projects/larsoft-alpha?jump=wiki"><span style="padding-left:32px;">LArSoft Alpha Test</span></a><a title="LArSoft Experiments Alpha Test" href="/redmine/projects/larsoft-experiment-alpha?jump=wiki"><span style="padding-left:48px;">LArSoft Experiments Alpha Test</span></a><a title="LArSoftObj" href="/redmine/projects/larsoftobj?jump=wiki"><span style="padding-left:16px;">LArSoftObj</span></a><a title="LArSystematics" href="/redmine/projects/larsystematics?jump=wiki"><span style="padding-left:16px;">LArSystematics</span></a><a title="LArTestAlg" href="/redmine/projects/lartestalg?jump=wiki"><span style="padding-left:16px;">LArTestAlg</span></a><a title="LArToolObj" href="/redmine/projects/lartoolobj?jump=wiki"><span style="padding-left:16px;">LArToolObj</span></a><a title="LArUtils" href="/redmine/projects/larutils?jump=wiki"><span style="padding-left:16px;">LArUtils</span></a><a title="larwirecell" href="/redmine/projects/larwirecell?jump=wiki"><span style="padding-left:16px;">larwirecell</span></a><a title="LBNE code" href="/redmine/projects/lbnecode?jump=wiki"><span style="padding-left:16px;">LBNE code</span></a><a title="NuSystematics" href="/redmine/projects/nusystematics?jump=wiki"><span style="padding-left:16px;">NuSystematics</span></a><a title="parsegdml" href="/redmine/projects/parsegdml?jump=wiki"><span style="padding-left:16px;">parsegdml</span></a><a title="uBooNE code" href="/redmine/projects/uboonecode?jump=wiki"><span style="padding-left:16px;">uBooNE code</span></a><a title="CC1pi" href="/redmine/projects/cc1pi?jump=wiki"><span style="padding-left:32px;">CC1pi</span></a><a title="UBooNE alg" href="/redmine/projects/uboonealg?jump=wiki"><span style="padding-left:32px;">UBooNE alg</span></a><a title="uBAna" href="/redmine/projects/ubana?jump=wiki"><span style="padding-left:32px;">uBAna</span></a><a title="uBCRT" href="/redmine/projects/ubcrt?jump=wiki"><span style="padding-left:32px;">uBCRT</span></a><a title="uBCV" href="/redmine/projects/ubcv?jump=wiki"><span style="padding-left:32px;">uBCV</span></a><a title="uBCore" href="/redmine/projects/ubcore?jump=wiki"><span style="padding-left:32px;">uBCore</span></a><a title="uBEvt" href="/redmine/projects/ubevt?jump=wiki"><span style="padding-left:32px;">uBEvt</span></a><a title="uBLite" href="/redmine/projects/ublite?jump=wiki"><span style="padding-left:32px;">uBLite</span></a><a title="uBObj" href="/redmine/projects/ubobj?jump=wiki"><span style="padding-left:32px;">uBObj</span></a><a title="uBRaw" href="/redmine/projects/ubraw?jump=wiki"><span style="padding-left:32px;">uBRaw</span></a><a title="uBReco" href="/redmine/projects/ubreco?jump=wiki"><span style="padding-left:32px;">uBReco</span></a><a title="uBSim" href="/redmine/projects/ubsim?jump=wiki"><span style="padding-left:32px;">uBSim</span></a><a title="uBXSec" href="/redmine/projects/ubxsec?jump=wiki"><span style="padding-left:32px;">uBXSec</span></a><a title="lar_ci" href="/redmine/projects/lar_ci?jump=wiki"><span style="padding-left:0px;">lar_ci</span></a><a title="darkart" href="/redmine/projects/darkart?jump=wiki"><span style="padding-left:0px;">darkart</span></a><a title="darkmon" href="/redmine/projects/darkmon?jump=wiki"><span style="padding-left:0px;">darkmon</span></a><a title="darkside-public" href="/redmine/projects/darkside-public?jump=wiki"><span style="padding-left:0px;">darkside-public</span></a><a title="darksidecore" href="/redmine/projects/darksidecore?jump=wiki"><span style="padding-left:0px;">darksidecore</span></a><a title="ds50daq" href="/redmine/projects/ds50daq?jump=wiki"><span style="padding-left:0px;">ds50daq</span></a><a title="DUNE" href="/redmine/projects/dune?jump=wiki"><span style="padding-left:0px;">DUNE</span></a><a title="DUNE Approved Plots" href="/redmine/projects/dune-approved-plots?jump=wiki"><span style="padding-left:16px;">DUNE Approved Plots</span></a><a title="Dune Computing" href="/redmine/projects/dune-computing?jump=wiki"><span style="padding-left:16px;">Dune Computing</span></a><a title="duneutil" href="/redmine/projects/duneutil?jump=wiki"><span style="padding-left:32px;">duneutil</span></a><a title="DUNE DAQ" href="/redmine/projects/dune-daq?jump=wiki"><span style="padding-left:16px;">DUNE DAQ</span></a><a title="DUNE NearDet Design" href="/redmine/projects/dune-neardet-design?jump=wiki"><span style="padding-left:16px;">DUNE NearDet Design</span></a><a title="dunetpc" href="/redmine/projects/dunetpc?jump=wiki"><span style="padding-left:16px;">dunetpc</span></a><a title="protoduneana" href="/redmine/projects/protoduneana?jump=wiki"><span style="padding-left:32px;">protoduneana</span></a><a title="upd" href="/redmine/projects/upd?jump=wiki"><span style="padding-left:0px;">upd</span></a><a title="ups" href="/redmine/projects/ups?jump=wiki"><span style="padding-left:0px;">ups</span></a><a title="Fermi Redmine" href="/redmine/projects/fermi-redmine?jump=wiki"><span style="padding-left:0px;">Fermi Redmine</span></a><a title="Projects for Monitoring Redmine Health" href="/redmine/projects/test-p1?jump=wiki"><span style="padding-left:16px;">Projects for Monitoring Redmine Health</span></a><a title="redmine-lib" href="/redmine/projects/redmine-lib?jump=wiki"><span style="padding-left:16px;">redmine-lib</span></a><a title="g4hpc" href="/redmine/projects/g4hpc?jump=wiki"><span style="padding-left:0px;">g4hpc</span></a><a title="g4hpcbenchmarks" href="/redmine/projects/g4hpcbenchmarks?jump=wiki"><span style="padding-left:16px;">g4hpcbenchmarks</span></a><a title="HepPDT" href="/redmine/projects/heppdt?jump=wiki"><span style="padding-left:0px;">HepPDT</span></a><a title="ICARUS LArSoft" href="/redmine/projects/icaruscode?jump=wiki"><span style="padding-left:0px;">ICARUS LArSoft</span></a><a title="icarus_data" href="/redmine/projects/icarus_data?jump=wiki"><span style="padding-left:16px;">icarus_data</span></a><a title="icarusutil" href="/redmine/projects/icarusutil?jump=wiki"><span style="padding-left:16px;">icarusutil</span></a><a title="LAr Batch Tools" href="/redmine/projects/larbatch?jump=wiki"><span style="padding-left:0px;">LAr Batch Tools</span></a><a title="LBNE Utilities" href="/redmine/projects/lbneutil?jump=wiki"><span style="padding-left:0px;">LBNE Utilities</span></a><a title="DAQ" href="/redmine/projects/mu2edaq?jump=wiki"><span style="padding-left:0px;">DAQ</span></a><a title="mu2e_artdaq" href="/redmine/projects/mu2e_artdaq?jump=wiki"><span style="padding-left:16px;">mu2e_artdaq</span></a><a title="Mu2e DAQ Computing" href="/redmine/projects/mu2e-daq-computing?jump=wiki"><span style="padding-left:16px;">Mu2e DAQ Computing</span></a><a title="mu2e DCS" href="/redmine/projects/mu2e-dcs?jump=wiki"><span style="padding-left:16px;">mu2e DCS</span></a><a title="Mu2e Raw Data" href="/redmine/projects/mu2e-raw-data?jump=wiki"><span style="padding-left:16px;">Mu2e Raw Data</span></a><a title="Databases" href="/redmine/projects/databases?jump=wiki"><span style="padding-left:0px;">Databases</span></a><a title="Detector Construction DB" href="/redmine/projects/mu2e_detector_construction_db?jump=wiki"><span style="padding-left:16px;">Detector Construction DB</span></a><a title="Offline Software" href="/redmine/projects/offlinesoftware?jump=wiki"><span style="padding-left:0px;">Offline Software</span></a><a title="G4beamline" href="/redmine/projects/mu2eofflinesoftwareg4beamline?jump=wiki"><span style="padding-left:16px;">G4beamline</span></a><a title="Grid Scripts" href="/redmine/projects/mu2egrid?jump=wiki"><span style="padding-left:16px;">Grid Scripts</span></a><a title="Muon g-2" href="/redmine/projects/g-2?jump=wiki"><span style="padding-left:0px;">Muon g-2</span></a><a title="Calorimeter CDR req." href="/redmine/projects/calorequirements?jump=wiki"><span style="padding-left:16px;">Calorimeter CDR req.</span></a><a title="g-2 Art Examples" href="/redmine/projects/gm2artexamples?jump=wiki"><span style="padding-left:16px;">g-2 Art Examples</span></a><a title="g-2 CDR" href="/redmine/projects/gm2cdr?jump=wiki"><span style="padding-left:16px;">g-2 CDR</span></a><a title="g-2 DAQ" href="/redmine/projects/gm2daq?jump=wiki"><span style="padding-left:16px;">g-2 DAQ</span></a><a title="g-2 DQM" href="/redmine/projects/gm2dqm?jump=wiki"><span style="padding-left:32px;">g-2 DQM</span></a><a title="g-2 public" href="/redmine/projects/gm2public?jump=wiki"><span style="padding-left:16px;">g-2 public</span></a><a title="g-2 Release Tools" href="/redmine/projects/gm2releasetools?jump=wiki"><span style="padding-left:16px;">g-2 Release Tools</span></a><a title="g2MIGTRACE" href="/redmine/projects/g2migtrace?jump=wiki"><span style="padding-left:16px;">g2MIGTRACE</span></a><a title="g2mtanalysismacros" href="/redmine/projects/g2mtanalysismacros?jump=wiki"><span style="padding-left:16px;">g2mtanalysismacros</span></a><a title="g-2 SRBD" href="/redmine/projects/g-2-srbd?jump=wiki"><span style="padding-left:16px;">g-2 SRBD</span></a><a title="g-2 TDR" href="/redmine/projects/gm2tdr?jump=wiki"><span style="padding-left:16px;">g-2 TDR</span></a><a title="gm2analyses" href="/redmine/projects/gm2analyses?jump=wiki"><span style="padding-left:16px;">gm2analyses</span></a><a title="gm2aux" href="/redmine/projects/gm2aux?jump=wiki"><span style="padding-left:16px;">gm2aux</span></a><a title="gm2beams" href="/redmine/projects/gm2beams?jump=wiki"><span style="padding-left:16px;">gm2beams</span></a><a title="gm2calo" href="/redmine/projects/gm2calo?jump=wiki"><span style="padding-left:16px;">gm2calo</span></a><a title="gm2dataproducts" href="/redmine/projects/gm2dataproducts?jump=wiki"><span style="padding-left:16px;">gm2dataproducts</span></a><a title="gm2field" href="/redmine/projects/gm2field?jump=wiki"><span style="padding-left:16px;">gm2field</span></a><a title="gm2fieldanalyzer" href="/redmine/projects/gm2fieldanalyzer?jump=wiki"><span style="padding-left:32px;">gm2fieldanalyzer</span></a><a title="gm2fielddaq" href="/redmine/projects/gm2fielddaq?jump=wiki"><span style="padding-left:32px;">gm2fielddaq</span></a><a title="gm2fieldsignal" href="/redmine/projects/gm2fieldsignal?jump=wiki"><span style="padding-left:32px;">gm2fieldsignal</span></a><a title="gm2geom" href="/redmine/projects/gm2geom?jump=wiki"><span style="padding-left:16px;">gm2geom</span></a><a title="gm2mcdataproducts" href="/redmine/projects/gm2mcdataproducts?jump=wiki"><span style="padding-left:16px;">gm2mcdataproducts</span></a><a title="gm2midas" href="/redmine/projects/gm2midas?jump=wiki"><span style="padding-left:16px;">gm2midas</span></a><a title="gm2midastoart" href="/redmine/projects/gm2midastoart?jump=wiki"><span style="padding-left:16px;">gm2midastoart</span></a><a title="gm2MTest2012" href="/redmine/projects/gm2mtest2012?jump=wiki"><span style="padding-left:16px;">gm2MTest2012</span></a><a title="gm2optics" href="/redmine/projects/gm2optics?jump=wiki"><span style="padding-left:16px;">gm2optics</span></a><a title="gm2planning" href="/redmine/projects/gm2planning?jump=wiki"><span style="padding-left:16px;">gm2planning</span></a><a title="gm2reconeast" href="/redmine/projects/gm2reconeast?jump=wiki"><span style="padding-left:16px;">gm2reconeast</span></a><a title="gm2ringsim" href="/redmine/projects/gm2ringsim?jump=wiki"><span style="padding-left:16px;">gm2ringsim</span></a><a title="gm2SoftwareTools" href="/redmine/projects/gm2softwaretools?jump=wiki"><span style="padding-left:16px;">gm2SoftwareTools</span></a><a title="gm2strawtracking" href="/redmine/projects/gm2strawtracking?jump=wiki"><span style="padding-left:16px;">gm2strawtracking</span></a><a title="gm2swdocs" href="/redmine/projects/gm2swdocs?jump=wiki"><span style="padding-left:16px;">gm2swdocs</span></a><a title="gm2test" href="/redmine/projects/gm2test?jump=wiki"><span style="padding-left:16px;">gm2test</span></a><a title="gm2tracker" href="/redmine/projects/gm2tracker?jump=wiki"><span style="padding-left:16px;">gm2tracker</span></a><a title="gm2trackerdaq" href="/redmine/projects/gm2trackerdaq?jump=wiki"><span style="padding-left:16px;">gm2trackerdaq</span></a><a title="gm2unpackers" href="/redmine/projects/gm2unpackers?jump=wiki"><span style="padding-left:16px;">gm2unpackers</span></a><a title="gm2util" href="/redmine/projects/gm2util?jump=wiki"><span style="padding-left:16px;">gm2util</span></a><a title="gm2viz" href="/redmine/projects/gm2viz?jump=wiki"><span style="padding-left:16px;">gm2viz</span></a><a title="gm2vtk" href="/redmine/projects/gm2vtk?jump=wiki"><span style="padding-left:16px;">gm2vtk</span></a><a title="g-2 Field Shimming Paper" href="/redmine/projects/gm2fsp?jump=wiki"><span style="padding-left:16px;">g-2 Field Shimming Paper</span></a><a title="gm2db" href="/redmine/projects/gm2db?jump=wiki"><span style="padding-left:16px;">gm2db</span></a><a title="gm2ilratio" href="/redmine/projects/gm2ilratio?jump=wiki"><span style="padding-left:16px;">gm2ilratio</span></a><a title="gm2reconita" href="/redmine/projects/gm2reconita?jump=wiki"><span style="padding-left:16px;">gm2reconita</span></a><a title="gm2sc" href="/redmine/projects/gm2sc?jump=wiki"><span style="padding-left:16px;">gm2sc</span></a><a title="gm2simvalidation" href="/redmine/projects/gm2simvalidation?jump=wiki"><span style="padding-left:16px;">gm2simvalidation</span></a><a title="gm2templates" href="/redmine/projects/gm2templates?jump=wiki"><span style="padding-left:16px;">gm2templates</span></a><a title="NOvA-ART" href="/redmine/projects/novaart?jump=wiki"><span style="padding-left:0px;">NOvA-ART</span></a><a title="NOvA validation" href="/redmine/projects/nova-validation?jump=wiki"><span style="padding-left:16px;">NOvA validation</span></a><a title="NuTools" href="/redmine/projects/nutools?jump=wiki"><span style="padding-left:0px;">NuTools</span></a><a title="NuEvdb" href="/redmine/projects/nuevdb?jump=wiki"><span style="padding-left:16px;">NuEvdb</span></a><a title="NuG4" href="/redmine/projects/nug4?jump=wiki"><span style="padding-left:16px;">NuG4</span></a><a title="NuGen" href="/redmine/projects/nugen?jump=wiki"><span style="padding-left:16px;">NuGen</span></a><a title="NuRandom" href="/redmine/projects/nurandom?jump=wiki"><span style="padding-left:16px;">NuRandom</span></a><a title="NuSimData" href="/redmine/projects/nusimdata?jump=wiki"><span style="padding-left:16px;">NuSimData</span></a><a title="NuSoft/NuTools" href="/redmine/projects/nusoftart?jump=wiki"><span style="padding-left:16px;">NuSoft/NuTools</span></a><a title="PPFX" href="/redmine/projects/ppfx?jump=wiki"><span style="padding-left:16px;">PPFX</span></a><a title="OSG-Geant4-OSGMM" href="/redmine/projects/osg-geant4-osgmm?jump=wiki"><span style="padding-left:0px;">OSG-Geant4-OSGMM</span></a><a title="SBND code" href="/redmine/projects/sbndcode?jump=wiki"><span style="padding-left:0px;">SBND code</span></a><a title="SBND utility scripts" href="/redmine/projects/sbndutil?jump=wiki"><span style="padding-left:0px;">SBND utility scripts</span></a><a title="IF Data Handling Client Tools (ifdhc)" href="/redmine/projects/ifdhc?jump=wiki"><span style="padding-left:0px;">IF Data Handling Client Tools (ifdhc)</span></a><a title="IFDH Art interface" href="/redmine/projects/ifdh-art?jump=wiki"><span style="padding-left:16px;">IFDH Art interface</span></a><a title="Simulation Tools and Features" href="/redmine/projects/stf?jump=wiki"><span style="padding-left:0px;">Simulation Tools and Features</span></a><a title="artg4tk" href="/redmine/projects/artg4tk?jump=wiki"><span style="padding-left:16px;">artg4tk</span></a><a title="DoSSiER" href="/redmine/projects/dossier?jump=wiki"><span style="padding-left:16px;">DoSSiER</span></a><a title="Geant4Reweight" href="/redmine/projects/geant4reweight?jump=wiki"><span style="padding-left:16px;">Geant4Reweight</span></a><a title="uBooNE Reconstruction" href="/redmine/projects/uboone-reconstruction?jump=wiki"><span style="padding-left:0px;">uBooNE Reconstruction</span></a><a title="uBooNE Utilities" href="/redmine/projects/ubutil?jump=wiki"><span style="padding-left:0px;">uBooNE Utilities</span></a><a title="detsim.fnal.gov" href="/redmine/projects/detsim-fnal-gov?jump=wiki"><span style="padding-left:0px;">detsim.fnal.gov</span></a><a title="SoftRelTools" href="/redmine/projects/softreltools?jump=wiki"><span style="padding-left:0px;">SoftRelTools</span></a><a title="Spack Infrastructure" href="/redmine/projects/spack-infrastructure?jump=wiki"><span style="padding-left:0px;">Spack Infrastructure</span></a></div><div class="drdn-items all-projects selection"><a href="/redmine/projects?jump=wiki">All Projects</a></div></div></div>
    </div>

    <h1><span class="current-project">LArSoft</span></h1>

    <div id="main-menu" class="tabs">
        <ul><li>
<a id="new-object" onclick="toggleNewObjectDropdown(); return false;" class="new-object" href="#"> + </a>
<ul class="menu-children"><li><a accesskey="7" class="new-issue-sub" href="/redmine/projects/larsoft/issues/new">New issue</a></li><li><a class="new-issue-category" href="/redmine/projects/larsoft/issue_categories/new">New category</a></li><li><a class="new-version" href="/redmine/projects/larsoft/versions/new">New version</a></li><li><a class="new-timelog" href="/redmine/projects/larsoft/time_entries/new">Log time</a></li><li><a class="new-document" href="/redmine/projects/larsoft/documents/new">New document</a></li><li><a class="new-wiki-page" href="/redmine/projects/larsoft/wiki/new">New wiki page</a></li><li><a class="new-file" href="/redmine/projects/larsoft/files/new">New file</a></li></ul>
</li><li><a class="overview" href="/redmine/projects/larsoft">Overview</a></li><li><a class="activity" href="/redmine/projects/larsoft/activity">Activity</a></li><li><a class="roadmap" href="/redmine/projects/larsoft/roadmap">Roadmap</a></li><li><a class="issues" href="/redmine/projects/larsoft/issues">Issues</a></li><li><a class="time-entries" href="/redmine/projects/larsoft/time_entries">Spent time</a></li><li><a class="gantt" href="/redmine/projects/larsoft/issues/gantt">Gantt</a></li><li><a class="calendar" href="/redmine/projects/larsoft/issues/calendar">Calendar</a></li><li><a class="documents" href="/redmine/projects/larsoft/documents">Documents</a></li><li><a class="wiki selected" href="/redmine/projects/larsoft/wiki">Wiki</a></li><li><a class="files" href="/redmine/projects/larsoft/files">Files</a></li><li><a class="repository" href="/redmine/projects/larsoft/repository">Repository</a></li><li><a class="settings" href="/redmine/projects/larsoft/settings">Settings</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          
<h3>Wiki</h3>
<ul>
  <li><a href="/redmine/projects/larsoft/wiki">Start page</a></li>
  <li><a href="/redmine/projects/larsoft/wiki/index">Index by title</a></li>
  <li><a href="/redmine/projects/larsoft/wiki/date_index">Index by date</a></li>
</ul>


        
    </div>

    <div id="content">
        
        <div class="contextual">
<a class="icon icon-add" data-remote="true" href="/redmine/projects/larsoft/wiki/new">New wiki page</a>
  <a class="icon icon-edit" accesskey="e" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit">Edit</a>
  <a class="wiki_page-28327-watcher icon icon-fav-off" data-remote="true" rel="nofollow" data-method="post" href="/redmine/watchers/watch?object_id=28327&amp;object_type=wiki_page">Watch</a>
  <a class="icon icon-lock" rel="nofollow" data-method="post" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/protect?protected=1">Lock</a>
  
  <a class="icon icon-move" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/rename">Rename</a>
  <a data-confirm="Are you sure?" class="icon icon-del" rel="nofollow" data-method="delete" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine">Delete</a>
<a class="icon icon-history" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/history">History</a>
</div>

<p class="breadcrumb"><a href="/redmine/projects/larsoft/wiki/LArSoftWiki">LArSoftWiki</a> » <a href="/redmine/projects/larsoft/wiki/LArSoft_Internals">LArSoft Internals</a> » <a href="/redmine/projects/larsoft/wiki/LArSoft_release_management">LArSoft release management</a> » <a href="/redmine/projects/larsoft/wiki/How_to_tag_and_build_a_LArSoft_vx_yy_zz_release">How to tag and build a LArSoft vx yy zz release</a> » </p>


<div class="wiki wiki-page">
  <a name="Overview-of-Building-a-LArSoft-Release-from-redmine"></a>
<h1 >Overview of Building a LArSoft Release from redmine<a href="#Overview-of-Building-a-LArSoft-Release-from-redmine" class="wiki-anchor">&para;</a></h1>


	<ul class="toc right"><li><strong>Table of contents</strong></li><li><a href="#Overview-of-Building-a-LArSoft-Release-from-redmine">Overview of Building a LArSoft Release from redmine</a><ul><li><a href="#setup-the-environment">setup the environment</a></li><li><a href="#make-a-build-directory">make a build directory</a></li><li><a href="#Make-a-develop-build">Make a develop build</a></li><li><a href="#Make-the-release-branch">Make the release branch</a></li><li><a href="#Merge-any-feature-branches">Merge any feature branches</a></li><li><a href="#Build-for-all-4-compilers">Build for all 4 compilers</a></li><li><a href="#Getting-ready-to-make-a-tag">Getting ready to make a tag</a><ul><li><a href="#larpandoracontent">larpandoracontent</a></li></ul>
</li><li><a href="#Final-test-build-and-cleanup">Final test build and cleanup</a></li><li><a href="#Tag">Tag</a></li><li><a href="#Jenkins-build">Jenkins build</a><ul><li><a href="#Download-the-binaries">Download the binaries</a></li></ul>
</li><li><a href="#Ubuntu-LTS-18-build">Ubuntu LTS 18 build</a></li><li><a href="#Install-products">Install products</a><ul><li><a href="#cvmfs">cvmfs</a></li><li><a href="#gridfermiappproductslarsoft">/grid/fermiapp/products/larsoft</a></li><li><a href="#doxygen">doxygen</a></li></ul>
</li><li><a href="#Release-notes-and-the-cross-package-tag">Release notes and the cross package tag</a></li><li><a href="#Announcement-and-final-merge">Announcement and final merge</a><ul><li><a href="#final-merge">final merge</a></li><li><a href="#announcement">announcement</a></li></ul>
</li><li><a href="#Random-notes">Random notes</a><ul><li><a href="#dogit">dogit</a></li><li><a href="#Changing-your-mind-about-the-larsoft-release-name">Changing your mind about the larsoft release name</a></li><li><a href="#release-building-philosophy">release building philosophy</a></li><li><a href="#updates-to-dependent-products">updates to dependent products</a></li><li><a href="#cvmfs-2">cvmfs</a></li></ul></li></ul></li></ul>


	<p>This is a brief overview of the steps taken when making a fairly simple release.  This overview presumes that we have at least one feature branch as well as changes in the head of develop.   This overview presumes you are working on scisoftbuild01 and using the /products directory.</p>


	<div class="contextual heading-2" title="Edit this section" id="section-2"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=2">Edit this section</a></div><a name="setup-the-environment"></a>
<h2  class="wiki-class-count"> setup the environment<a href="#setup-the-environment" class="wiki-anchor">&para;</a></h2>


<pre>
source /products/setup
export PRODUCTS=$PRODUCTS:/cvmfs/larsoft.opensciencegrid.org/products:/cvmfs/sbnd.opensciencegrid.org/products/sbnd:/cvmfs/dune.opensciencegrid.org/products/dune:/cvmfs/uboone.opensciencegrid.org/products:/cvmfs/icarus.opensciencegrid.org/products/icarus:/cvmfs/lariat.opensciencegrid.org/externals
setup mrb
setup larreltools
export PATH=$LARRELTOOLS_DIR/expert:${PATH}
export MRB_PROJECT=larsoft
</pre>

	<div class="contextual heading-2" title="Edit this section" id="section-3"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=3">Edit this section</a></div><a name="make-a-build-directory"></a>
<h2  class="wiki-class-count"> make a build directory<a href="#make-a-build-directory" class="wiki-anchor">&para;</a></h2>


	<p>Since we are now building for e19, e17, c7, and c2, larreltools v1_05_00 or later is required.</p>


	<p>Decide if we think this is a bug fix or feature release.  Note that feature branches are sometimes just bug fixes.  This decision will be reflected in the directory name and release branch names.  This example presumes a bug fix release against v08_38_00.</p>


	<p>The "tagLAr mkdir" command will create a directory structure and populate the srcs directory.</p>


<pre>
cd ~/scratch/larsoft
tagLAr mkdir v08_38_01 `pwd`
</pre>

	<div class="contextual heading-2" title="Edit this section" id="section-4"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=4">Edit this section</a></div><a name="Make-a-develop-build"></a>
<h2  class="wiki-class-count">Make a develop build<a href="#Make-a-develop-build" class="wiki-anchor">&para;</a></h2>


	<p>At this time, our default build is e17.  Start with that and make sure the combined head of develop builds.  Notice that $MRB_SOURCE contains both larsoft and experiment code.  It may be necessary to update versions and/or merge feature branches in the experiment code.  For instance, since larsoft v08_38_00 adds the ability to build for e19 and c7, you might need to merge or use feature/team_for_e19 in the experiment code until the experiments catch up.  Sometimes a gentle nudge is helpful.</p>


<pre>
source ..../e17p/local*/setup
cd $MRB_BUILDDIR
mrbsetenv
mrb t -j20
OR
mrb t -j20 &gt;&#38; build.log &#38;
</pre>

	<div class="contextual heading-2" title="Edit this section" id="section-5"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=5">Edit this section</a></div><a name="Make-the-release-branch"></a>
<h2  class="wiki-class-count">Make the release branch<a href="#Make-the-release-branch" class="wiki-anchor">&para;</a></h2>


	<p>All changes in LArSoft packages should be made on the release branch.</p>


<pre>
tagLAr start v08_38_01
</pre>

	<div class="contextual heading-2" title="Edit this section" id="section-6"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=6">Edit this section</a></div><a name="Merge-any-feature-branches"></a>
<h2  class="wiki-class-count"> Merge any feature branches<a href="#Merge-any-feature-branches" class="wiki-anchor">&para;</a></h2>


	<p>We use the <a class="wiki-page" href="/redmine/projects/larsoft/wiki/FutureChanges">future changes</a> page to collect a list of feature branches that are meant to be part of the next release.  This helps make sure we don't forget anything.</p>


	<p>If there are a number of unrelated feature branches, it is usually best to merge them one at a time and build.  This isolates any problems you might find.  (pull requests can't get here soon enough)</p>


<pre>
cd $MRB_SOURCE/package
git checkout feature/&lt;some_feature_branch&gt;
git checkout release/v08_38_01
git merge feature/&lt;some_feature_branch&gt;
</pre>

	<div class="contextual heading-2" title="Edit this section" id="section-7"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=7">Edit this section</a></div><a name="Build-for-all-4-compilers"></a>
<h2  class="wiki-class-count"> Build for all 4 compilers<a href="#Build-for-all-4-compilers" class="wiki-anchor">&para;</a></h2>


	<p>Use the prof builds.  These typically show problems that the debug builds hide.</p>


	<div class="contextual heading-2" title="Edit this section" id="section-8"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=8">Edit this section</a></div><a name="Getting-ready-to-make-a-tag"></a>
<h2  class="wiki-class-count"> Getting ready to make a tag<a href="#Getting-ready-to-make-a-tag" class="wiki-anchor">&para;</a></h2>


	<p>Once everything is in place, move the experiment code out of the way.</p>


<pre>
cd $MRB_SOURCE
mkdir ../notag
mv argo* ../notag
mv dune* ../notag
mv lariat* ../notag
mv sbnd* ../notag
mv ub* ../notag
mrb uc
</pre>

	<p>Then update the package versions, and determine which packages do not need updates.<br /><pre>
updateVersion micro  (v08_38_00 becomes v08_38_01, v08_36_01 becomes v08_36_02)
OR
updateVersion minor  (v08_38_00 becomes v08_39_00, v08_36_02 becomes v08_37_00)
</pre></p>


	<p>Step through the packages in <a class="wiki-page" href="/redmine/projects/larsoft/wiki/How_to_tag_and_build_a_LArSoft_patch_release#Dependency-order">build order</a> (starting from the bottom).  Neither larutils nor larbatch are part of the dependency tree.  Make sure you also check them.<br /><pre>
cd $MRB_SOURCE/&lt;package&gt; 
git diff LARSOFT_SUITE_v08_38_00
</pre></p>


	<p>If the only change is the version number that you just updated, then restore the old version number and move the package to notag<br /><pre>
mrb uv &lt;package&gt; &lt;previous version&gt;
cd $MRB_SOURCE
mv &lt;package&gt; ../notag
mrb uc
</pre></p>


	<div class="contextual heading-3" title="Edit this section" id="section-9"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=9">Edit this section</a></div><a name="larpandoracontent"></a>
<h3  class="wiki-class-count"> larpandoracontent<a href="#larpandoracontent" class="wiki-anchor">&para;</a></h3>


	<p>larpandoracontent is a special case.  It is used by larpandora and depends only on the pandora ups product.  We seldom update larpandoracontent.  Our agreement with the Pandora team is to only update the micro version.  The version is encoded in both ups/product_deps and larpandoracontent/CMakeLists.txt.  You will have to update CMakeLists.txt by hand.</p>


	<div class="contextual heading-2" title="Edit this section" id="section-10"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=10">Edit this section</a></div><a name="Final-test-build-and-cleanup"></a>
<h2  class="wiki-class-count"> Final test build and cleanup<a href="#Final-test-build-and-cleanup" class="wiki-anchor">&para;</a></h2>


	<p>Once you have gone through all the packages, make a final test build.  This should go reasonably quickly, but make sure you have built the new code with all 4 compilers.</p>


	<p>The tagging process will commit changes in ups/product_deps with an appropriate comment.  Before starting that process, you must make sure that any other changes have been committed.<br /><pre>
cd $MRB_SOURCE
dogit status
cd larsoft
git commit -m"product versions" releaseDB/CMakeLists.txt
cd larsoftobj
git commit -m"product versions" bundle/CMakeLists.txt
dogit status
</pre></p>


	<div class="contextual heading-2" title="Edit this section" id="section-11"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=11">Edit this section</a></div><a name="Tag"></a>
<h2  class="wiki-class-count">Tag<a href="#Tag" class="wiki-anchor">&para;</a></h2>


	<p>Make sure $MRB_SOURCE contains ONLY the repositories you want to tag.  If it contains other repositories, you might make unintentional tags. You might also have problems with the tagging script, which does not do a lot of checking.</p>


	<p>The argument supplied is a branch name (release/v08_38_01).  The branch name is expected to match the release name, and will be used in commit messages.<br /><pre>
cd $MRB_SOURCE
tagLAr tag v08_38_01
</pre></p>


	<div class="contextual heading-2" title="Edit this section" id="section-12"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=12">Edit this section</a></div><a name="Jenkins-build"></a>
<h2  class="wiki-class-count">Jenkins build<a href="#Jenkins-build" class="wiki-anchor">&para;</a></h2>


	<p>The larsoft Jenkins build job is "build-larsoft" under the larsoft tab.  This job is currently configured to build for 4 compilers.  You will need to make one build for py2 and a second build for py3.  Once we revert to 2 compilers, the job can be reconfigured to build for both py2 and py3 at the same time.</p>


	<p>Sometimes the build will catch problems such as missing libraries in the link list.  If this happens, I make the fix on the release branch, merge with master, and retag.  The release branch is merged with develop in the final step.</p>


	<div class="contextual heading-3" title="Edit this section" id="section-13"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=13">Edit this section</a></div><a name="Download-the-binaries"></a>
<h3  class="wiki-class-count"> Download the binaries<a href="#Download-the-binaries" class="wiki-anchor">&para;</a></h3>


	<p>I recommend downloading the files from Jenkins into your account on scisoftportal.  This allows you to make a local upload to SciSoft, which can be significantly faster.  copyFromJenkins and copyToSciSoft can be found at /nasroot/SciSoft/bundles/tools.  Note that copyToSciSoft expects to find the volume mounted as /nasroot/SciSoft.  For this reason, the local upload option will not presently work on scisoftbuild01.<br /><pre>
ssh scisoftportal.fnal.gov
mkdir tmp
cd tmp
.../copyFromJenkins -N -q s93-e17 -q s93-e19 -q s93-c2 -q s93-c7 build-larsoft
(This command is identical for both the py2 and py3 builds.)
ls *.txt (This is just a check)
.../copyToSciSoft --local *
rm *
</pre></p>


	<div class="contextual heading-2" title="Edit this section" id="section-14"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=14">Edit this section</a></div><a name="Ubuntu-LTS-18-build"></a>
<h2  class="wiki-class-count">Ubuntu LTS 18 build<a href="#Ubuntu-LTS-18-build" class="wiki-anchor">&para;</a></h2>


	<p>We provide a build for Ubuntu LTS 18 on a best effort basis.  I use vagrant on scisoftbuild01.  See /home/garren/scratch/vagrant/u18.</p>


	<p>The scripts I use are in /home/garren/scratch/vagrant/u18/scripts.  Builds must be done on the internal file system, not in the shared /vagrant directory.  As presently configured, my box is only big enough to build for a single qualifier at at time.  The scripts presume the directory structure established by /vagrant/initialSetup.sh.<br /><pre>
vagrant ssh
cd build
/vagrant/buildLArSoft.sh v08_38_00 s93 e17 &gt;&#38; larsoft.log
</pre><br />You might be able to run copyToSciSoft from within the box, but I think access gets blocked.  So I move the files to /vagrant/tar, exit vagrant, and then run copyToSciSoft from scisoftbuild01.</p>


	<div class="contextual heading-2" title="Edit this section" id="section-15"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=15">Edit this section</a></div><a name="Install-products"></a>
<h2  class="wiki-class-count">Install products<a href="#Install-products" class="wiki-anchor">&para;</a></h2>


	<div class="contextual heading-3" title="Edit this section" id="section-16"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=16">Edit this section</a></div><a name="cvmfs"></a>
<h3  class="wiki-class-count">cvmfs<a href="#cvmfs" class="wiki-anchor">&para;</a></h3>


	<p>In most circumstances, users are expected to get the larsoft release from cvmfs.  There is a README in cvmfslarsoft with basic instructions.</p>


	<p>Because the home directory is tiny by design, we use a temporary directory on cvmfs when installing products.  It is important to make sure this directory is empty before finalizing the download via cvmfs publish.  Note that if there are real problems, you can always abort the cvmfs transaction.</p>


	<p>The installBundle.sh script will download for all supported platforms.  It will add py3 to the qualifier and download the SLF7 py3 builds. (We are only distributing py3 builds for SLF6.)  It will also download the matching c2 or c7 qualified builds.<br /><pre>
ssh cvmfslarsoft@oasiscfs.fnal.gov
cat README
./scripts/installBundle.sh larsoft v08_38_00 s93-e17
./scripts/installBundle.sh larsoft v08_38_00 s93-e19
ll /cvmfs/larsoft.opensciencegrid.org/products/.working
ll /cvmfs/larsoft.opensciencegrid.org/products/mrb
ll /cvmfs/larsoft.opensciencegrid.org/products/larsoft/v08_38_00
(These are checks.)
time cvmfs_server publish larsoft.opensciencegrid.org
(The time command is optional, but informative.)
</pre></p>


	<div class="contextual heading-3" title="Edit this section" id="section-17"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=17">Edit this section</a></div><a name="gridfermiappproductslarsoft"></a>
<h3  class="wiki-class-count">/grid/fermiapp/products/larsoft<a href="#gridfermiappproductslarsoft" class="wiki-anchor">&para;</a></h3>


	<p>Because there continue to be problems with cvmfs on the macOS Jenkins slaves, we install the macOS clang builds here as well.  This is strictly for building on the Jenkins slaves.<br /><pre>
ssh -l larsoft uboonegpvm02.fnal.gov
mkdir work/kyle
cd work/kyle
../scripts/installRelease.sh v08_38_00 s93-c2
../scripts/installRelease.sh v08_38_00 s93-c7
rm *
</pre></p>


	<div class="contextual heading-3" title="Edit this section" id="section-18"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=18">Edit this section</a></div><a name="doxygen"></a>
<h3  class="wiki-class-count">doxygen<a href="#doxygen" class="wiki-anchor">&para;</a></h3>


	<p>We build the doxygen documentation on gpvm.<br /><pre>
ssh -l larsoft uboonegpvm02.fnal.gov
cd doxygen
./update_lar_doxygen.sh &gt;&#38; update.log &#38;
</pre></p>


	<div class="contextual heading-2" title="Edit this section" id="section-19"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=19">Edit this section</a></div><a name="Release-notes-and-the-cross-package-tag"></a>
<h2  class="wiki-class-count"> Release notes and the cross package tag<a href="#Release-notes-and-the-cross-package-tag" class="wiki-anchor">&para;</a></h2>


	<p>We use a cross package tag to clearly indicate which package releases are part of a larsoft release.  The cross package tag is also used when generating the release notes.  At this time, the script does not determine which builds of larutils or larbatch need to be tagged, so we do that by hand.<br /><pre>
cd $MRB_SOURCE 
(not strictly required)
cp-lar-tag &lt;larsoft tag&gt; &lt;larsoftobj tag&gt;
cd .../larutils
git co master
git status 
(make sure everything is clean and that the head of master matches the latest tag)
git tag -a -m"LARSOFT_SUITE_v08_38_00" LARSOFT_SUITE_v08_38_00
git push --tags
cd .../larbatch
git co master
git status 
(make sure everything is clean and that the head of master matches the latest tag)
git tag -a -m"LARSOFT_SUITE_v08_38_00" LARSOFT_SUITE_v08_38_00
git push --tags
</pre></p>


	<p>The generated release notes contain an informative header and a list of commits to each package since the previous release.  The script will make its own working directory under the specified directory.</p>


	<p>When copying the generated release notes, it is important to use cat so that lines are not wrapped.  Commands such as more or less will wrap lines, which breaks the generated html.</p>


	<p>The top line of the the generated ReleaseNotes file is copied to the <a class="external" href="https://cdcvs.fnal.gov/redmine/projects/larsoft/wiki/LArSoft_release_list">https://cdcvs.fnal.gov/redmine/projects/larsoft/wiki/LArSoft_release_list</a> table.  The remainder of the file is used to make the actual release notes.  Notes about each release must be added by hand to the top section of the release notes.<br /><pre>
make-release-notes &lt;top directory&gt; &lt;tag&gt; &lt;previous tag&gt;
(e.g., make-release-notes `pwd` v08_38_01 v08_38_00)
cd &lt;tag&gt;
cat ReleaseNotes-&lt;tag&gt;
</pre></p>


	<div class="contextual heading-2" title="Edit this section" id="section-20"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=20">Edit this section</a></div><a name="Announcement-and-final-merge"></a>
<h2  class="wiki-class-count">Announcement and final merge<a href="#Announcement-and-final-merge" class="wiki-anchor">&para;</a></h2>


	<p>Once the binaries are on cvmfs and the release notes have been generated, it is time to do the final merge and send an email to the collaboration announcing the release.</p>


	<div class="contextual heading-3" title="Edit this section" id="section-21"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=21">Edit this section</a></div><a name="final-merge"></a>
<h3  class="wiki-class-count">final merge<a href="#final-merge" class="wiki-anchor">&para;</a></h3>


	<p>The argument given to the merge command is the name of the release/vxx_yy_zz branch.<br /><pre>
cd $MRB_SOURCE
tagLAr merge v08_38_00
</pre></p>


	<div class="contextual heading-3" title="Edit this section" id="section-22"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=22">Edit this section</a></div><a name="announcement"></a>
<h3  class="wiki-class-count"> announcement<a href="#announcement" class="wiki-anchor">&para;</a></h3>


	<p>Send an email to <a class="email" href="mailto:larsoft@fnal.gov">larsoft@fnal.gov</a> announcing the release and briefly describing important changes.  I use an email template and update it with relevant details for each release.</p>


	<div class="contextual heading-2" title="Edit this section" id="section-23"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=23">Edit this section</a></div><a name="Random-notes"></a>
<h2  class="wiki-class-count"> Random notes<a href="#Random-notes" class="wiki-anchor">&para;</a></h2>


	<div class="contextual heading-3" title="Edit this section" id="section-24"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=24">Edit this section</a></div><a name="dogit"></a>
<h3  class="wiki-class-count">dogit<a href="#dogit" class="wiki-anchor">&para;</a></h3>


	<p>The dogit command will pass an arbitrary git command to all repositories in $MRB_SOURCE. This can be very handy.<br />If the argument contains more than one word, wrap it in quotes.<br /><pre>
dogit status
dogit branch
dogit "co feature/&lt;xxx&gt;" 
</pre></p>


	<div class="contextual heading-3" title="Edit this section" id="section-25"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=25">Edit this section</a></div><a name="Changing-your-mind-about-the-larsoft-release-name"></a>
<h3  class="wiki-class-count"> Changing your mind about the larsoft release name<a href="#Changing-your-mind-about-the-larsoft-release-name" class="wiki-anchor">&para;</a></h3>


	<p>Sometimes you start expecting to make a bug fix release and end up making a feature release instead, or vice versa.  If the larsoft release version DOES NOT match the release branch, I will make a new branch.  This is to ensure that the automatically generated commit messages reference the correct larsoft release.  In this example, the existing branch is release/v08_38_01, but the new larsoft release will actually be v08_39_00.<br /><pre>
cd $MRB_SOURCE
dogit branch
dogit "co -b release/v08_39_00" 
dogit branch
</pre></p>


	<div class="contextual heading-3" title="Edit this section" id="section-26"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=26">Edit this section</a></div><a name="release-building-philosophy"></a>
<h3  class="wiki-class-count"> release building philosophy<a href="#release-building-philosophy" class="wiki-anchor">&para;</a></h3>


	<p>We want to keep the head of develop unchanged until the release is tagged, built, and installed on cvmfs.  We work as if we were using gitflow, but use our own scripts to ensure that the head of develop is not updated until we have completed everything.  This also allows us to make last minute changes to tags if necessary.</p>


	<div class="contextual heading-3" title="Edit this section" id="section-27"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=27">Edit this section</a></div><a name="updates-to-dependent-products"></a>
<h3  class="wiki-class-count"> updates to dependent products<a href="#updates-to-dependent-products" class="wiki-anchor">&para;</a></h3>


	<p>These instructions presume that dependent products such as wirecell, nutools, or pandora have not changed.</p>


	<p>If there is a new release of nutools, it should be built and installed on both cvmfs and scisoftbuild01.</p>


	<p>If there is a new release of a package used only by larsoft, such as wirecell, make a local build on scisoftbuild01.</p>


	<div class="contextual heading-3" title="Edit this section" id="section-28"><a class="icon-only icon-edit" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/edit?section=28">Edit this section</a></div><a name="cvmfs-2"></a>
<h3  class="wiki-class-count"> cvmfs<a href="#cvmfs-2" class="wiki-anchor">&para;</a></h3>


	<p>The cvmfs publish step has to process all new files.  If you install, say nulite, critic, and larsoft distributions all at once, that is a lot of files to process and can take significant time.  Instead, it is better to install in smaller pieces (such as just a new nulite distribution) and publish that piece before installing more files.</p>
</div>


<fieldset class="collapsible collapsed hide-when-print">
  <legend onclick="toggleFieldset(this);">Files (0)</legend>
  <div style="display: none;">

  
  
  <div id="wiki_add_attachment">
    <form id="add_attachment_form" enctype="multipart/form-data" action="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine/add_attachment" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="fiHM7+9saJRz4ri37gRofZby8OT7bekazCAbtSdh2p6Uzyhyb/GU4mqVV24k6Txq/6srEGCZKF617DXuLZSFKg==" />
      <div class="box">
      <p>
<span class="attachments_form">
  <span class="attachments_fields">
  </span>
  <span class="add_attachment" style="">
    <input type="file" name="attachments[dummy][file]" class="file_selector filedrop" multiple="multiple" onchange="addInputFiles(this);" data-max-file-size="419430400" data-max-file-size-message="This file cannot be uploaded because it exceeds the maximum allowed file size (400 MB)" data-max-concurrent-uploads="2" data-upload-path="/redmine/uploads.js" data-param="attachments" data-description="true" data-description-placeholder="Optional description" />
    (Maximum size: 400 MB)
  </span>
</span>

</p>
      </div>
      <input type="submit" name="commit" value="Add" />
</form>  </div>
</div>
</fieldset>

<p class="other-formats">Also available in:  <span><a class="pdf" rel="nofollow" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine.pdf">PDF</a></span>
  <span><a class="html" rel="nofollow" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine.html">HTML</a></span>
  <span><a class="txt" rel="nofollow" href="/redmine/projects/larsoft/wiki/Overview_of_Building_a_LArSoft_Release_from_redmine.txt">TXT</a></span>
</p>


        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2019 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>
</html>
